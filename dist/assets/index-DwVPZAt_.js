function Mg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $g(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ah={exports:{}},co={},oh={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),Bg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Vg=Symbol.for("react.memo"),Yg=Symbol.for("react.lazy"),rd=Symbol.iterator;function Zg(t){return t===null||typeof t!="object"?null:(t=rd&&t[rd]||t["@@iterator"],typeof t=="function"?t:null)}var lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uh=Object.assign,ch={};function ms(t,e,r){this.props=t,this.context=e,this.refs=ch,this.updater=r||lh}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dh(){}dh.prototype=ms.prototype;function Bu(t,e,r){this.props=t,this.context=e,this.refs=ch,this.updater=r||lh}var Hu=Bu.prototype=new dh;Hu.constructor=Bu;uh(Hu,ms.prototype);Hu.isPureReactComponent=!0;var nd=Array.isArray,fh=Object.prototype.hasOwnProperty,qu={current:null},hh={key:!0,ref:!0,__self:!0,__source:!0};function mh(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)fh.call(e,n)&&!hh.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ii,type:t,key:i,ref:a,props:s,_owner:qu.current}}function Qg(t,e){return{$$typeof:Ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ii}function Kg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var sd=/\/+/g;function Lo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kg(""+t.key):e.toString(36)}function fa(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ii:case Ug:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Lo(a,0):n,nd(s)?(r="",t!=null&&(r=t.replace(sd,"$&/")+"/"),fa(s,e,r,"",function(c){return c})):s!=null&&(Wu(s)&&(s=Qg(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(sd,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",nd(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+Lo(i,l);a+=fa(i,e,r,u,s)}else if(u=Zg(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+Lo(i,l++),a+=fa(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wi(t,e,r){if(t==null)return t;var n=[],s=0;return fa(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Jg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},ha={transition:null},Gg={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:ha,ReactCurrentOwner:qu};function ph(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Wi,forEach:function(t,e,r){Wi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wi(t,function(){e++}),e},toArray:function(t){return Wi(t,function(e){return e})||[]},only:function(t){if(!Wu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=ms;K.Fragment=Lg;K.Profiler=Fg;K.PureComponent=Bu;K.StrictMode=zg;K.Suspense=Wg;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg;K.act=ph;K.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uh({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=qu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)fh.call(e,u)&&!hh.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ii,type:t.type,key:s,ref:i,props:n,_owner:a}};K.createContext=function(t){return t={$$typeof:Hg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bg,_context:t},t.Consumer=t};K.createElement=mh;K.createFactory=function(t){var e=mh.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:qg,render:t}};K.isValidElement=Wu;K.lazy=function(t){return{$$typeof:Yg,_payload:{_status:-1,_result:t},_init:Jg}};K.memo=function(t,e){return{$$typeof:Vg,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=ha.transition;ha.transition={};try{t()}finally{ha.transition=e}};K.unstable_act=ph;K.useCallback=function(t,e){return tt.current.useCallback(t,e)};K.useContext=function(t){return tt.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};K.useEffect=function(t,e){return tt.current.useEffect(t,e)};K.useId=function(){return tt.current.useId()};K.useImperativeHandle=function(t,e,r){return tt.current.useImperativeHandle(t,e,r)};K.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return tt.current.useMemo(t,e)};K.useReducer=function(t,e,r){return tt.current.useReducer(t,e,r)};K.useRef=function(t){return tt.current.useRef(t)};K.useState=function(t){return tt.current.useState(t)};K.useSyncExternalStore=function(t,e,r){return tt.current.useSyncExternalStore(t,e,r)};K.useTransition=function(){return tt.current.useTransition()};K.version="18.3.1";oh.exports=K;var _=oh.exports;const ma=uo(_),Xg=Mg({__proto__:null,default:ma},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=_,t0=Symbol.for("react.element"),r0=Symbol.for("react.fragment"),n0=Object.prototype.hasOwnProperty,s0=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i0={key:!0,ref:!0,__self:!0,__source:!0};function gh(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)n0.call(e,n)&&!i0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:t0,type:t,key:i,ref:a,props:s,_owner:s0.current}}co.Fragment=r0;co.jsx=gh;co.jsxs=gh;ah.exports=co;var o=ah.exports,vh={exports:{}},vt={},yh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,q){var W=D.length;D.push(q);e:for(;0<W;){var pe=W-1>>>1,Ne=D[pe];if(0<s(Ne,q))D[pe]=q,D[W]=Ne,W=pe;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var q=D[0],W=D.pop();if(W!==q){D[0]=W;e:for(var pe=0,Ne=D.length,tr=Ne>>>1;pe<tr;){var ce=2*(pe+1)-1,oe=D[ce],Ce=ce+1,rr=D[Ce];if(0>s(oe,W))Ce<Ne&&0>s(rr,oe)?(D[pe]=rr,D[Ce]=W,pe=Ce):(D[pe]=oe,D[ce]=W,pe=ce);else if(Ce<Ne&&0>s(rr,W))D[pe]=rr,D[Ce]=W,pe=Ce;else break e}}return q}function s(D,q){var W=D.sortIndex-q.sortIndex;return W!==0?W:D.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,h=3,v=!1,x=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=D)n(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=r(c)}}function b(D){if(w=!1,g(D),!x)if(r(u)!==null)x=!0,St(k);else{var q=r(c);q!==null&&zt(b,q.startTime-D)}}function k(D,q){x=!1,w&&(w=!1,m(T),T=-1),v=!0;var W=h;try{for(g(q),f=r(u);f!==null&&(!(f.expirationTime>q)||D&&!E());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,h=f.priorityLevel;var Ne=pe(f.expirationTime<=q);q=t.unstable_now(),typeof Ne=="function"?f.callback=Ne:f===r(u)&&n(u),g(q)}else n(u);f=r(u)}if(f!==null)var tr=!0;else{var ce=r(c);ce!==null&&zt(b,ce.startTime-q),tr=!1}return tr}finally{f=null,h=W,v=!1}}var j=!1,N=null,T=-1,P=5,S=-1;function E(){return!(t.unstable_now()-S<P)}function A(){if(N!==null){var D=t.unstable_now();S=D;var q=!0;try{q=N(!0,D)}finally{q?V():(j=!1,N=null)}}else j=!1}var V;if(typeof p=="function")V=function(){p(A)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,He=ee.port2;ee.port1.onmessage=A,V=function(){He.postMessage(null)}}else V=function(){y(A,0)};function St(D){N=D,j||(j=!0,V())}function zt(D,q){T=y(function(){D(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,St(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var W=h;h=q;try{return D()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return q()}finally{h=W}},t.unstable_scheduleCallback=function(D,q,W){var pe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,D){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=W+Ne,D={id:d++,callback:q,priorityLevel:D,startTime:W,expirationTime:Ne,sortIndex:-1},W>pe?(D.sortIndex=W,e(c,D),r(u)===null&&D===r(c)&&(w?(m(T),T=-1):w=!0,zt(b,W-pe))):(D.sortIndex=Ne,e(u,D),x||v||(x=!0,St(k))),D},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(D){var q=h;return function(){var W=h;h=q;try{return D.apply(this,arguments)}finally{h=W}}}})(xh);yh.exports=xh;var a0=yh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=_,gt=a0;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wh=new Set,Xs={};function wn(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(Xs[t]=e,t=0;t<e.length;t++)wh.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,l0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,id={},ad={};function u0(t){return jl.call(ad,t)?!0:jl.call(id,t)?!1:l0.test(t)?ad[t]=!0:(id[t]=!0,!1)}function c0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d0(t,e,r,n){if(e===null||typeof e>"u"||c0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vu=/[\-:]([a-z])/g;function Yu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vu,Yu);Fe[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vu,Yu);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vu,Yu);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zu(t,e,r,n){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d0(e,r,s,n)&&(r=null),n||s===null?u0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yr=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),_h=Symbol.for("react.provider"),bh=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),Sl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),kh=Symbol.for("react.offscreen"),od=Symbol.iterator;function ks(t){return t===null||typeof t!="object"?null:(t=od&&t[od]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,zo;function Is(t){if(zo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zo=e&&e[1]||""}return`
`+zo+t}var Fo=!1;function Bo(t,e){if(!t||Fo)return"";Fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Fo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Is(t):""}function f0(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=Bo(t.type,!1),t;case 11:return t=Bo(t.type.render,!1),t;case 1:return t=Bo(t.type,!0),t;default:return""}}function El(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case On:return"Fragment";case Pn:return"Portal";case Nl:return"Profiler";case Qu:return"StrictMode";case Sl:return"Suspense";case Tl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bh:return(t.displayName||"Context")+".Consumer";case _h:return(t._context.displayName||"Context")+".Provider";case Ku:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ju:return e=t.displayName||null,e!==null?e:El(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return El(t(e))}catch{}}return null}function h0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return El(e);case 8:return e===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m0(t){var e=jh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yi(t){t._valueTracker||(t._valueTracker=m0(t))}function Nh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=jh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cl(t,e){var r=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ld(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sh(t,e){e=e.checked,e!=null&&Zu(t,"checked",e,!1)}function Pl(t,e){Sh(t,e);var r=Fr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ol(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ol(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ud(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ol(t,e,r){(e!=="number"||Na(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var As=Array.isArray;function Wn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Dl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(O(92));if(As(r)){if(1<r.length)throw Error(O(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fr(r)}}function Th(t,e){var r=Fr(e.value),n=Fr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zi,Ch=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zi=Zi||document.createElement("div"),Zi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ei(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p0=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(t){p0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fs[e]=Fs[t]})});function Ph(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fs.hasOwnProperty(t)&&Fs[t]?(""+e).trim():e+"px"}function Oh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ph(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var g0=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(t,e){if(e){if(g0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Al(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Vn=null,Yn=null;function fd(t){if(t=$i(t)){if(typeof $l!="function")throw Error(O(280));var e=t.stateNode;e&&(e=go(e),$l(t.stateNode,t.type,e))}}function Dh(t){Vn?Yn?Yn.push(t):Yn=[t]:Vn=t}function Rh(){if(Vn){var t=Vn,e=Yn;if(Yn=Vn=null,fd(t),e)for(t=0;t<e.length;t++)fd(e[t])}}function Ih(t,e){return t(e)}function Ah(){}var Ho=!1;function Mh(t,e,r){if(Ho)return t(e,r);Ho=!0;try{return Ih(t,e,r)}finally{Ho=!1,(Vn!==null||Yn!==null)&&(Ah(),Rh())}}function ti(t,e){var r=t.stateNode;if(r===null)return null;var n=go(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(O(231,e,typeof r));return r}var Ul=!1;if(dr)try{var js={};Object.defineProperty(js,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Ul=!1}function v0(t,e,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Bs=!1,Sa=null,Ta=!1,Ll=null,y0={onError:function(t){Bs=!0,Sa=t}};function x0(t,e,r,n,s,i,a,l,u){Bs=!1,Sa=null,v0.apply(y0,arguments)}function w0(t,e,r,n,s,i,a,l,u){if(x0.apply(this,arguments),Bs){if(Bs){var c=Sa;Bs=!1,Sa=null}else throw Error(O(198));Ta||(Ta=!0,Ll=c)}}function _n(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hd(t){if(_n(t)!==t)throw Error(O(188))}function _0(t){var e=t.alternate;if(!e){if(e=_n(t),e===null)throw Error(O(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return hd(s),t;if(i===n)return hd(s),e;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?t:e}function Uh(t){return t=_0(t),t!==null?Lh(t):null}function Lh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lh(t);if(e!==null)return e;t=t.sibling}return null}var zh=gt.unstable_scheduleCallback,md=gt.unstable_cancelCallback,b0=gt.unstable_shouldYield,k0=gt.unstable_requestPaint,Se=gt.unstable_now,j0=gt.unstable_getCurrentPriorityLevel,Xu=gt.unstable_ImmediatePriority,Fh=gt.unstable_UserBlockingPriority,Ea=gt.unstable_NormalPriority,N0=gt.unstable_LowPriority,Bh=gt.unstable_IdlePriority,fo=null,Yt=null;function S0(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(fo,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:C0,T0=Math.log,E0=Math.LN2;function C0(t){return t>>>=0,t===0?32:31-(T0(t)/E0|0)|0}var Qi=64,Ki=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ca(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ms(l):(i&=a,i!==0&&(n=Ms(i)))}else a=r&~s,a!==0?n=Ms(a):i!==0&&(n=Ms(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rt(e),s=1<<r,n|=t[r],e&=~s;return n}function P0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Rt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=P0(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function zl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hh(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function qo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ai(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=r}function D0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ec(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ue=0;function qh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wh,tc,Vh,Yh,Zh,Fl=!1,Ji=[],Or=null,Dr=null,Rr=null,ri=new Map,ni=new Map,Sr=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ri.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(e.pointerId)}}function Ns(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$i(e),e!==null&&tc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function I0(t,e,r,n,s){switch(e){case"focusin":return Or=Ns(Or,t,e,r,n,s),!0;case"dragenter":return Dr=Ns(Dr,t,e,r,n,s),!0;case"mouseover":return Rr=Ns(Rr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ri.set(i,Ns(ri.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ni.set(i,Ns(ni.get(i)||null,t,e,r,n,s)),!0}return!1}function Qh(t){var e=sn(t.target);if(e!==null){var r=_n(e);if(r!==null){if(e=r.tag,e===13){if(e=$h(r),e!==null){t.blockedOn=e,Zh(t.priority,function(){Vh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Bl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ml=n,r.target.dispatchEvent(n),Ml=null}else return e=$i(r),e!==null&&tc(e),t.blockedOn=r,!1;e.shift()}return!0}function gd(t,e,r){pa(t)&&r.delete(e)}function A0(){Fl=!1,Or!==null&&pa(Or)&&(Or=null),Dr!==null&&pa(Dr)&&(Dr=null),Rr!==null&&pa(Rr)&&(Rr=null),ri.forEach(gd),ni.forEach(gd)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Fl||(Fl=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,A0)))}function si(t){function e(s){return Ss(s,t)}if(0<Ji.length){Ss(Ji[0],t);for(var r=1;r<Ji.length;r++){var n=Ji[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Or!==null&&Ss(Or,t),Dr!==null&&Ss(Dr,t),Rr!==null&&Ss(Rr,t),ri.forEach(e),ni.forEach(e),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)Qh(r),r.blockedOn===null&&Sr.shift()}var Zn=yr.ReactCurrentBatchConfig,Pa=!0;function M0(t,e,r,n){var s=ue,i=Zn.transition;Zn.transition=null;try{ue=1,rc(t,e,r,n)}finally{ue=s,Zn.transition=i}}function $0(t,e,r,n){var s=ue,i=Zn.transition;Zn.transition=null;try{ue=4,rc(t,e,r,n)}finally{ue=s,Zn.transition=i}}function rc(t,e,r,n){if(Pa){var s=Bl(t,e,r,n);if(s===null)el(t,e,n,Oa,r),pd(t,n);else if(I0(s,t,e,r,n))n.stopPropagation();else if(pd(t,n),e&4&&-1<R0.indexOf(t)){for(;s!==null;){var i=$i(s);if(i!==null&&Wh(i),i=Bl(t,e,r,n),i===null&&el(t,e,n,Oa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else el(t,e,n,null,r)}}var Oa=null;function Bl(t,e,r,n){if(Oa=null,t=Gu(n),t=sn(t),t!==null)if(e=_n(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$h(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oa=t,null}function Kh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case Xu:return 1;case Fh:return 4;case Ea:case N0:return 16;case Bh:return 536870912;default:return 16}default:return 16}}var Cr=null,nc=null,ga=null;function Jh(){if(ga)return ga;var t,e=nc,r=e.length,n,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return ga=s.slice(t,1<n?1-n:void 0)}function va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function vd(){return!1}function yt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gi:vd,this.isPropagationStopped=vd,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),e}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=yt(ps),Mi=_e({},ps,{view:0,detail:0}),U0=yt(Mi),Wo,Vo,Ts,ho=_e({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(Wo=t.screenX-Ts.screenX,Vo=t.screenY-Ts.screenY):Vo=Wo=0,Ts=t),Wo)},movementY:function(t){return"movementY"in t?t.movementY:Vo}}),yd=yt(ho),L0=_e({},ho,{dataTransfer:0}),z0=yt(L0),F0=_e({},Mi,{relatedTarget:0}),Yo=yt(F0),B0=_e({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=yt(B0),q0=_e({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W0=yt(q0),V0=_e({},ps,{data:0}),xd=yt(V0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q0[t])?!!e[t]:!1}function ic(){return K0}var J0=_e({},Mi,{key:function(t){if(t.key){var e=Y0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G0=yt(J0),X0=_e({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=yt(X0),ev=_e({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),tv=yt(ev),rv=_e({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),nv=yt(rv),sv=_e({},ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=yt(sv),av=[9,13,27,32],ac=dr&&"CompositionEvent"in window,Hs=null;dr&&"documentMode"in document&&(Hs=document.documentMode);var ov=dr&&"TextEvent"in window&&!Hs,Gh=dr&&(!ac||Hs&&8<Hs&&11>=Hs),_d=" ",bd=!1;function Xh(t,e){switch(t){case"keyup":return av.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dn=!1;function lv(t,e){switch(t){case"compositionend":return em(e);case"keypress":return e.which!==32?null:(bd=!0,_d);case"textInput":return t=e.data,t===_d&&bd?null:t;default:return null}}function uv(t,e){if(Dn)return t==="compositionend"||!ac&&Xh(t,e)?(t=Jh(),ga=nc=Cr=null,Dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gh&&e.locale!=="ko"?null:e.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cv[t.type]:e==="textarea"}function tm(t,e,r,n){Dh(n),e=Da(e,"onChange"),0<e.length&&(r=new sc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qs=null,ii=null;function dv(t){fm(t,0)}function mo(t){var e=An(t);if(Nh(e))return t}function fv(t,e){if(t==="change")return e}var rm=!1;if(dr){var Zo;if(dr){var Qo="oninput"in document;if(!Qo){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Qo=typeof jd.oninput=="function"}Zo=Qo}else Zo=!1;rm=Zo&&(!document.documentMode||9<document.documentMode)}function Nd(){qs&&(qs.detachEvent("onpropertychange",nm),ii=qs=null)}function nm(t){if(t.propertyName==="value"&&mo(ii)){var e=[];tm(e,ii,t,Gu(t)),Mh(dv,e)}}function hv(t,e,r){t==="focusin"?(Nd(),qs=e,ii=r,qs.attachEvent("onpropertychange",nm)):t==="focusout"&&Nd()}function mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mo(ii)}function pv(t,e){if(t==="click")return mo(e)}function gv(t,e){if(t==="input"||t==="change")return mo(e)}function vv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:vv;function ai(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jl.call(e,s)||!Mt(t[s],e[s]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Td(t,e){var r=Sd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sd(r)}}function sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function im(){for(var t=window,e=Na();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Na(t.document)}return e}function oc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yv(t){var e=im(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sm(r.ownerDocument.documentElement,r)){if(n!==null&&oc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Td(r,i);var a=Td(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xv=dr&&"documentMode"in document&&11>=document.documentMode,Rn=null,Hl=null,Ws=null,ql=!1;function Ed(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ql||Rn==null||Rn!==Na(n)||(n=Rn,"selectionStart"in n&&oc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ws&&ai(Ws,n)||(Ws=n,n=Da(Hl,"onSelect"),0<n.length&&(e=new sc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rn)))}function Xi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var In={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},Ko={},am={};dr&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function po(t){if(Ko[t])return Ko[t];if(!In[t])return t;var e=In[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in am)return Ko[t]=e[r];return t}var om=po("animationend"),lm=po("animationiteration"),um=po("animationstart"),cm=po("transitionend"),dm=new Map,Cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){dm.set(t,e),wn(e,[t])}for(var Jo=0;Jo<Cd.length;Jo++){var Go=Cd[Jo],wv=Go.toLowerCase(),_v=Go[0].toUpperCase()+Go.slice(1);Yr(wv,"on"+_v)}Yr(om,"onAnimationEnd");Yr(lm,"onAnimationIteration");Yr(um,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(cm,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Pd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,w0(n,e,void 0,t),t.currentTarget=null}function fm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Pd(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Pd(s,l,c),i=u}}}if(Ta)throw t=Ll,Ta=!1,Ll=null,t}function he(t,e){var r=e[Ql];r===void 0&&(r=e[Ql]=new Set);var n=t+"__bubble";r.has(n)||(hm(e,t,2,!1),r.add(n))}function Xo(t,e,r){var n=0;e&&(n|=4),hm(r,t,n,e)}var ea="_reactListening"+Math.random().toString(36).slice(2);function oi(t){if(!t[ea]){t[ea]=!0,wh.forEach(function(r){r!=="selectionchange"&&(bv.has(r)||Xo(r,!1,t),Xo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ea]||(e[ea]=!0,Xo("selectionchange",!1,e))}}function hm(t,e,r,n){switch(Kh(e)){case 1:var s=M0;break;case 4:s=$0;break;default:s=rc}r=s.bind(null,e,r,t),s=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function el(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=sn(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Mh(function(){var c=i,d=Gu(r),f=[];e:{var h=dm.get(t);if(h!==void 0){var v=sc,x=t;switch(t){case"keypress":if(va(r)===0)break e;case"keydown":case"keyup":v=G0;break;case"focusin":x="focus",v=Yo;break;case"focusout":x="blur",v=Yo;break;case"beforeblur":case"afterblur":v=Yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tv;break;case om:case lm:case um:v=H0;break;case cm:v=nv;break;case"scroll":v=U0;break;case"wheel":v=iv;break;case"copy":case"cut":case"paste":v=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=wd}var w=(e&4)!==0,y=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var p=c,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=ti(p,m),b!=null&&w.push(li(p,b,g)))),y)break;p=p.return}0<w.length&&(h=new v(h,x,null,r,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Ml&&(x=r.relatedTarget||r.fromElement)&&(sn(x)||x[fr]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?sn(x):null,x!==null&&(y=_n(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(w=yd,b="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=wd,b="onPointerLeave",m="onPointerEnter",p="pointer"),y=v==null?h:An(v),g=x==null?h:An(x),h=new w(b,p+"leave",v,r,d),h.target=y,h.relatedTarget=g,b=null,sn(d)===c&&(w=new w(m,p+"enter",x,r,d),w.target=g,w.relatedTarget=y,b=w),y=b,v&&x)t:{for(w=v,m=x,p=0,g=w;g;g=kn(g))p++;for(g=0,b=m;b;b=kn(b))g++;for(;0<p-g;)w=kn(w),p--;for(;0<g-p;)m=kn(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=kn(w),m=kn(m)}w=null}else w=null;v!==null&&Od(f,h,v,w,!1),x!==null&&y!==null&&Od(f,y,x,w,!0)}}e:{if(h=c?An(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var k=fv;else if(kd(h))if(rm)k=gv;else{k=mv;var j=hv}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=pv);if(k&&(k=k(t,c))){tm(f,k,r,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ol(h,"number",h.value)}switch(j=c?An(c):window,t){case"focusin":(kd(j)||j.contentEditable==="true")&&(Rn=j,Hl=c,Ws=null);break;case"focusout":Ws=Hl=Rn=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Ed(f,r,d);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Ed(f,r,d)}var N;if(ac)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Dn?Xh(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Gh&&r.locale!=="ko"&&(Dn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Dn&&(N=Jh()):(Cr=d,nc="value"in Cr?Cr.value:Cr.textContent,Dn=!0)),j=Da(c,T),0<j.length&&(T=new xd(T,t,null,r,d),f.push({event:T,listeners:j}),N?T.data=N:(N=em(r),N!==null&&(T.data=N)))),(N=ov?lv(t,r):uv(t,r))&&(c=Da(c,"onBeforeInput"),0<c.length&&(d=new xd("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=N))}fm(f,e)})}function li(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Da(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ti(t,r),i!=null&&n.unshift(li(t,i,s)),i=ti(t,e),i!=null&&n.push(li(t,i,s))),t=t.return}return n}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Od(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=ti(r,i),u!=null&&a.unshift(li(r,u,l))):s||(u=ti(r,i),u!=null&&a.push(li(r,u,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var kv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function Dd(t){return(typeof t=="string"?t:""+t).replace(kv,`
`).replace(jv,"")}function ta(t,e,r){if(e=Dd(e),Dd(t)!==e&&r)throw Error(O(425))}function Ra(){}var Wl=null,Vl=null;function Yl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(t){return Rd.resolve(null).then(t).catch(Tv)}:Zl;function Tv(t){setTimeout(function(){throw t})}function tl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),si(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);si(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Id(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),qt="__reactFiber$"+gs,ui="__reactProps$"+gs,fr="__reactContainer$"+gs,Ql="__reactEvents$"+gs,Ev="__reactListeners$"+gs,Cv="__reactHandles$"+gs;function sn(t){var e=t[qt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fr]||r[qt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Id(t);t!==null;){if(r=t[qt])return r;t=Id(t)}return e}t=r,r=t.parentNode}return null}function $i(t){return t=t[qt]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function go(t){return t[ui]||null}var Kl=[],Mn=-1;function Zr(t){return{current:t}}function me(t){0>Mn||(t.current=Kl[Mn],Kl[Mn]=null,Mn--)}function fe(t,e){Mn++,Kl[Mn]=t.current,t.current=e}var Br={},Ye=Zr(Br),lt=Zr(!1),dn=Br;function es(t,e){var r=t.type.contextTypes;if(!r)return Br;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function Ia(){me(lt),me(Ye)}function Ad(t,e,r){if(Ye.current!==Br)throw Error(O(168));fe(Ye,e),fe(lt,r)}function mm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(O(108,h0(t)||"Unknown",s));return _e({},r,n)}function Aa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,dn=Ye.current,fe(Ye,t),fe(lt,lt.current),!0}function Md(t,e,r){var n=t.stateNode;if(!n)throw Error(O(169));r?(t=mm(t,e,dn),n.__reactInternalMemoizedMergedChildContext=t,me(lt),me(Ye),fe(Ye,t)):me(lt),fe(lt,r)}var ar=null,vo=!1,rl=!1;function pm(t){ar===null?ar=[t]:ar.push(t)}function Pv(t){vo=!0,pm(t)}function Qr(){if(!rl&&ar!==null){rl=!0;var t=0,e=ue;try{var r=ar;for(ue=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ar=null,vo=!1}catch(s){throw ar!==null&&(ar=ar.slice(t+1)),zh(Xu,Qr),s}finally{ue=e,rl=!1}}return null}var $n=[],Un=0,Ma=null,$a=0,xt=[],wt=0,fn=null,lr=1,ur="";function Xr(t,e){$n[Un++]=$a,$n[Un++]=Ma,Ma=t,$a=e}function gm(t,e,r){xt[wt++]=lr,xt[wt++]=ur,xt[wt++]=fn,fn=t;var n=lr;t=ur;var s=32-Rt(n)-1;n&=~(1<<s),r+=1;var i=32-Rt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,lr=1<<32-Rt(e)+s|r<<s|n,ur=i+t}else lr=1<<i|r<<s|n,ur=t}function lc(t){t.return!==null&&(Xr(t,1),gm(t,1,0))}function uc(t){for(;t===Ma;)Ma=$n[--Un],$n[Un]=null,$a=$n[--Un],$n[Un]=null;for(;t===fn;)fn=xt[--wt],xt[wt]=null,ur=xt[--wt],xt[wt]=null,lr=xt[--wt],xt[wt]=null}var mt=null,ht=null,ge=!1,Ot=null;function vm(t,e){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $d(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,ht=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fn!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mt=t,ht=null,!0):!1;default:return!1}}function Jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gl(t){if(ge){var e=ht;if(e){var r=e;if(!$d(t,e)){if(Jl(t))throw Error(O(418));e=Ir(r.nextSibling);var n=mt;e&&$d(t,e)?vm(n,r):(t.flags=t.flags&-4097|2,ge=!1,mt=t)}}else{if(Jl(t))throw Error(O(418));t.flags=t.flags&-4097|2,ge=!1,mt=t}}}function Ud(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function ra(t){if(t!==mt)return!1;if(!ge)return Ud(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yl(t.type,t.memoizedProps)),e&&(e=ht)){if(Jl(t))throw ym(),Error(O(418));for(;e;)vm(t,e),e=Ir(e.nextSibling)}if(Ud(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ht=Ir(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=mt?Ir(t.stateNode.nextSibling):null;return!0}function ym(){for(var t=ht;t;)t=Ir(t.nextSibling)}function ts(){ht=mt=null,ge=!1}function cc(t){Ot===null?Ot=[t]:Ot.push(t)}var Ov=yr.ReactCurrentBatchConfig;function Es(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,t))}return t}function na(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ld(t){var e=t._init;return e(t._payload)}function xm(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ur(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,b){return p===null||p.tag!==6?(p=ul(g,m.mode,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,b){var k=g.type;return k===On?d(m,p,g.props.children,b,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kr&&Ld(k)===p.type)?(b=s(p,g.props),b.ref=Es(m,p,g),b.return=m,b):(b=ja(g.type,g.key,g.props,null,m.mode,b),b.ref=Es(m,p,g),b.return=m,b)}function c(m,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=cl(g,m.mode,b),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,b,k){return p===null||p.tag!==7?(p=un(g,m.mode,b,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ul(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vi:return g=ja(p.type,p.key,p.props,null,m.mode,g),g.ref=Es(m,null,p),g.return=m,g;case Pn:return p=cl(p,m.mode,g),p.return=m,p;case kr:var b=p._init;return f(m,b(p._payload),g)}if(As(p)||ks(p))return p=un(p,m.mode,g,null),p.return=m,p;na(m,p)}return null}function h(m,p,g,b){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vi:return g.key===k?u(m,p,g,b):null;case Pn:return g.key===k?c(m,p,g,b):null;case kr:return k=g._init,h(m,p,k(g._payload),b)}if(As(g)||ks(g))return k!==null?null:d(m,p,g,b,null);na(m,g)}return null}function v(m,p,g,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(p,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vi:return m=m.get(b.key===null?g:b.key)||null,u(p,m,b,k);case Pn:return m=m.get(b.key===null?g:b.key)||null,c(p,m,b,k);case kr:var j=b._init;return v(m,p,g,j(b._payload),k)}if(As(b)||ks(b))return m=m.get(g)||null,d(p,m,b,k,null);na(p,b)}return null}function x(m,p,g,b){for(var k=null,j=null,N=p,T=p=0,P=null;N!==null&&T<g.length;T++){N.index>T?(P=N,N=null):P=N.sibling;var S=h(m,N,g[T],b);if(S===null){N===null&&(N=P);break}t&&N&&S.alternate===null&&e(m,N),p=i(S,p,T),j===null?k=S:j.sibling=S,j=S,N=P}if(T===g.length)return r(m,N),ge&&Xr(m,T),k;if(N===null){for(;T<g.length;T++)N=f(m,g[T],b),N!==null&&(p=i(N,p,T),j===null?k=N:j.sibling=N,j=N);return ge&&Xr(m,T),k}for(N=n(m,N);T<g.length;T++)P=v(N,m,T,g[T],b),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?T:P.key),p=i(P,p,T),j===null?k=P:j.sibling=P,j=P);return t&&N.forEach(function(E){return e(m,E)}),ge&&Xr(m,T),k}function w(m,p,g,b){var k=ks(g);if(typeof k!="function")throw Error(O(150));if(g=k.call(g),g==null)throw Error(O(151));for(var j=k=null,N=p,T=p=0,P=null,S=g.next();N!==null&&!S.done;T++,S=g.next()){N.index>T?(P=N,N=null):P=N.sibling;var E=h(m,N,S.value,b);if(E===null){N===null&&(N=P);break}t&&N&&E.alternate===null&&e(m,N),p=i(E,p,T),j===null?k=E:j.sibling=E,j=E,N=P}if(S.done)return r(m,N),ge&&Xr(m,T),k;if(N===null){for(;!S.done;T++,S=g.next())S=f(m,S.value,b),S!==null&&(p=i(S,p,T),j===null?k=S:j.sibling=S,j=S);return ge&&Xr(m,T),k}for(N=n(m,N);!S.done;T++,S=g.next())S=v(N,m,T,S.value,b),S!==null&&(t&&S.alternate!==null&&N.delete(S.key===null?T:S.key),p=i(S,p,T),j===null?k=S:j.sibling=S,j=S);return t&&N.forEach(function(A){return e(m,A)}),ge&&Xr(m,T),k}function y(m,p,g,b){if(typeof g=="object"&&g!==null&&g.type===On&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Vi:e:{for(var k=g.key,j=p;j!==null;){if(j.key===k){if(k=g.type,k===On){if(j.tag===7){r(m,j.sibling),p=s(j,g.props.children),p.return=m,m=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kr&&Ld(k)===j.type){r(m,j.sibling),p=s(j,g.props),p.ref=Es(m,j,g),p.return=m,m=p;break e}r(m,j);break}else e(m,j);j=j.sibling}g.type===On?(p=un(g.props.children,m.mode,b,g.key),p.return=m,m=p):(b=ja(g.type,g.key,g.props,null,m.mode,b),b.ref=Es(m,p,g),b.return=m,m=b)}return a(m);case Pn:e:{for(j=g.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=cl(g,m.mode,b),p.return=m,m=p}return a(m);case kr:return j=g._init,y(m,p,j(g._payload),b)}if(As(g))return x(m,p,g,b);if(ks(g))return w(m,p,g,b);na(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=ul(g,m.mode,b),p.return=m,m=p),a(m)):r(m,p)}return y}var rs=xm(!0),wm=xm(!1),Ua=Zr(null),La=null,Ln=null,dc=null;function fc(){dc=Ln=La=null}function hc(t){var e=Ua.current;me(Ua),t._currentValue=e}function Xl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qn(t,e){La=t,dc=Ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(dc!==t)if(t={context:t,memoizedValue:e,next:null},Ln===null){if(La===null)throw Error(O(308));Ln=t,La.dependencies={lanes:0,firstContext:t}}else Ln=Ln.next=t;return e}var an=null;function mc(t){an===null?an=[t]:an.push(t)}function _m(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mc(e)):(r.next=s.next,s.next=r),e.interleaved=r,hr(t,n)}function hr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jr=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,hr(t,r)}return s=n.interleaved,s===null?(e.next=e,mc(n)):(e.next=s.next,s.next=e),n.interleaved=e,hr(t,r)}function ya(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ec(t,r)}}function zd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function za(t,e,r,n){var s=t.updateQueue;jr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,l=i;do{var h=l.lane,v=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,w=l;switch(h=e,v=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=_e({},f,h);break e;case 2:jr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mn|=a,t.lanes=a,t.memoizedState=f}}function Fd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Ui={},Zt=Zr(Ui),ci=Zr(Ui),di=Zr(Ui);function on(t){if(t===Ui)throw Error(O(174));return t}function gc(t,e){switch(fe(di,e),fe(ci,t),fe(Zt,Ui),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rl(e,t)}me(Zt),fe(Zt,e)}function ns(){me(Zt),me(ci),me(di)}function km(t){on(di.current);var e=on(Zt.current),r=Rl(e,t.type);e!==r&&(fe(ci,t),fe(Zt,r))}function vc(t){ci.current===t&&(me(Zt),me(ci))}var ye=Zr(0);function Fa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nl=[];function yc(){for(var t=0;t<nl.length;t++)nl[t]._workInProgressVersionPrimary=null;nl.length=0}var xa=yr.ReactCurrentDispatcher,sl=yr.ReactCurrentBatchConfig,hn=0,we=null,De=null,Me=null,Ba=!1,Vs=!1,fi=0,Dv=0;function qe(){throw Error(O(321))}function xc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mt(t[r],e[r]))return!1;return!0}function wc(t,e,r,n,s,i){if(hn=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xa.current=t===null||t.memoizedState===null?Mv:$v,t=r(n,s),Vs){i=0;do{if(Vs=!1,fi=0,25<=i)throw Error(O(301));i+=1,Me=De=null,e.updateQueue=null,xa.current=Uv,t=r(n,s)}while(Vs)}if(xa.current=Ha,e=De!==null&&De.next!==null,hn=0,Me=De=we=null,Ba=!1,e)throw Error(O(300));return t}function _c(){var t=fi!==0;return fi=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=t:Me=Me.next=t,Me}function Nt(){if(De===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Me===null?we.memoizedState:Me.next;if(e!==null)Me=e,De=t;else{if(t===null)throw Error(O(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?we.memoizedState=Me=t:Me=Me.next=t}return Me}function hi(t,e){return typeof e=="function"?e(t):e}function il(t){var e=Nt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=De,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((hn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=n):u=u.next=f,we.lanes|=d,mn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Mt(n,e.memoizedState)||(at=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,mn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function al(t){var e=Nt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Mt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function jm(){}function Nm(t,e){var r=we,n=Nt(),s=e(),i=!Mt(n.memoizedState,s);if(i&&(n.memoizedState=s,at=!0),n=n.queue,bc(Em.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,mi(9,Tm.bind(null,r,n,s,e),void 0,null),$e===null)throw Error(O(349));hn&30||Sm(r,e,s)}return s}function Sm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tm(t,e,r,n){e.value=r,e.getSnapshot=n,Cm(e)&&Pm(t)}function Em(t,e,r){return r(function(){Cm(e)&&Pm(t)})}function Cm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mt(t,r)}catch{return!0}}function Pm(t){var e=hr(t,1);e!==null&&It(e,t,1,-1)}function Bd(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},e.queue=t,t=t.dispatch=Av.bind(null,we,t),[e.memoizedState,t]}function mi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Om(){return Nt().memoizedState}function wa(t,e,r,n){var s=Ht();we.flags|=t,s.memoizedState=mi(1|e,r,void 0,n===void 0?null:n)}function yo(t,e,r,n){var s=Nt();n=n===void 0?null:n;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,n!==null&&xc(n,a.deps)){s.memoizedState=mi(e,r,i,n);return}}we.flags|=t,s.memoizedState=mi(1|e,r,i,n)}function Hd(t,e){return wa(8390656,8,t,e)}function bc(t,e){return yo(2048,8,t,e)}function Dm(t,e){return yo(4,2,t,e)}function Rm(t,e){return yo(4,4,t,e)}function Im(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Am(t,e,r){return r=r!=null?r.concat([t]):null,yo(4,4,Im.bind(null,e,t),r)}function kc(){}function Mm(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $m(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Um(t,e,r){return hn&21?(Mt(r,e)||(r=Hh(),we.lanes|=r,mn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=r)}function Rv(t,e){var r=ue;ue=r!==0&&4>r?r:4,t(!0);var n=sl.transition;sl.transition={};try{t(!1),e()}finally{ue=r,sl.transition=n}}function Lm(){return Nt().memoizedState}function Iv(t,e,r){var n=$r(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zm(t))Fm(e,r);else if(r=_m(t,e,r,n),r!==null){var s=Xe();It(r,t,n,s),Bm(r,e,n)}}function Av(t,e,r){var n=$r(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zm(t))Fm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Mt(l,a)){var u=e.interleaved;u===null?(s.next=s,mc(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=_m(t,e,s,n),r!==null&&(s=Xe(),It(r,t,n,s),Bm(r,e,n))}}function zm(t){var e=t.alternate;return t===we||e!==null&&e===we}function Fm(t,e){Vs=Ba=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Bm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ec(t,r)}}var Ha={readContext:jt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Mv={readContext:jt,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Hd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,wa(4194308,4,Im.bind(null,e,t),r)},useLayoutEffect:function(t,e){return wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return wa(4,2,t,e)},useMemo:function(t,e){var r=Ht();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ht();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Iv.bind(null,we,t),[n.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:Bd,useDebugValue:kc,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=Bd(!1),e=t[0];return t=Rv.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=we,s=Ht();if(ge){if(r===void 0)throw Error(O(407));r=r()}else{if(r=e(),$e===null)throw Error(O(349));hn&30||Sm(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Hd(Em.bind(null,n,i,t),[t]),n.flags|=2048,mi(9,Tm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ht(),e=$e.identifierPrefix;if(ge){var r=ur,n=lr;r=(n&~(1<<32-Rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$v={readContext:jt,useCallback:Mm,useContext:jt,useEffect:bc,useImperativeHandle:Am,useInsertionEffect:Dm,useLayoutEffect:Rm,useMemo:$m,useReducer:il,useRef:Om,useState:function(){return il(hi)},useDebugValue:kc,useDeferredValue:function(t){var e=Nt();return Um(e,De.memoizedState,t)},useTransition:function(){var t=il(hi)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:jm,useSyncExternalStore:Nm,useId:Lm,unstable_isNewReconciler:!1},Uv={readContext:jt,useCallback:Mm,useContext:jt,useEffect:bc,useImperativeHandle:Am,useInsertionEffect:Dm,useLayoutEffect:Rm,useMemo:$m,useReducer:al,useRef:Om,useState:function(){return al(hi)},useDebugValue:kc,useDeferredValue:function(t){var e=Nt();return De===null?e.memoizedState=t:Um(e,De.memoizedState,t)},useTransition:function(){var t=al(hi)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:jm,useSyncExternalStore:Nm,useId:Lm,unstable_isNewReconciler:!1};function Et(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function eu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_e({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xo={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=$r(t),i=cr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ar(t,i,s),e!==null&&(It(e,t,s,n),ya(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=$r(t),i=cr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ar(t,i,s),e!==null&&(It(e,t,s,n),ya(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xe(),n=$r(t),s=cr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ar(t,s,n),e!==null&&(It(e,t,n,r),ya(e,t,n))}};function qd(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!ai(r,n)||!ai(s,i):!0}function Hm(t,e,r){var n=!1,s=Br,i=e.contextType;return typeof i=="object"&&i!==null?i=jt(i):(s=ut(e)?dn:Ye.current,n=e.contextTypes,i=(n=n!=null)?es(t,s):Br),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Wd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xo.enqueueReplaceState(e,e.state,null)}function tu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},pc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jt(i):(i=ut(e)?dn:Ye.current,s.context=es(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(eu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xo.enqueueReplaceState(s,s.state,null),za(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e){try{var r="",n=e;do r+=f0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ol(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ru(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function qm(t,e,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wa||(Wa=!0,fu=n),ru(t,e)},r}function Wm(t,e,r){r=cr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ru(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ru(t,e),typeof n!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Vd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Lv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Xv.bind(null,t,e,r),e.then(t,t))}function Yd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zd(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=cr(-1,1),e.tag=2,Ar(r,e,1))),r.lanes|=1),t)}var zv=yr.ReactCurrentOwner,at=!1;function Je(t,e,r,n){e.child=t===null?wm(e,null,r,n):rs(e,t.child,r,n)}function Qd(t,e,r,n,s){r=r.render;var i=e.ref;return Qn(e,s),n=wc(t,e,r,n,i,s),r=_c(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(ge&&r&&lc(e),e.flags|=1,Je(t,e,n,s),e.child)}function Kd(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Oc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Vm(t,e,i,n,s)):(t=ja(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ai,r(a,n)&&t.ref===e.ref)return mr(t,e,s)}return e.flags|=1,t=Ur(i,n),t.ref=e.ref,t.return=e,e.child=t}function Vm(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ai(i,n)&&t.ref===e.ref)if(at=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,mr(t,e,s)}return nu(t,e,r,n,s)}function Ym(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Fn,ft),ft|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Fn,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fe(Fn,ft),ft|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,fe(Fn,ft),ft|=n;return Je(t,e,s,r),e.child}function Zm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function nu(t,e,r,n,s){var i=ut(r)?dn:Ye.current;return i=es(e,i),Qn(e,s),r=wc(t,e,r,n,i,s),n=_c(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(ge&&n&&lc(e),e.flags|=1,Je(t,e,r,s),e.child)}function Jd(t,e,r,n,s){if(ut(r)){var i=!0;Aa(e)}else i=!1;if(Qn(e,s),e.stateNode===null)_a(t,e),Hm(e,r,n),tu(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=ut(r)?dn:Ye.current,c=es(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Wd(e,a,n,c),jr=!1;var h=e.memoizedState;a.state=h,za(e,n,a,s),u=e.memoizedState,l!==n||h!==u||lt.current||jr?(typeof d=="function"&&(eu(e,r,d,n),u=e.memoizedState),(l=jr||qd(e,r,l,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,bm(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Et(e.type,l),a.props=c,f=e.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=jt(u):(u=ut(r)?dn:Ye.current,u=es(e,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Wd(e,a,n,u),jr=!1,h=e.memoizedState,a.state=h,za(e,n,a,s);var x=e.memoizedState;l!==f||h!==x||lt.current||jr?(typeof v=="function"&&(eu(e,r,v,n),x=e.memoizedState),(c=jr||qd(e,r,c,n,h,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return su(t,e,r,n,i,s)}function su(t,e,r,n,s,i){Zm(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Md(e,r,!1),mr(t,e,i);n=e.stateNode,zv.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rs(e,t.child,null,i),e.child=rs(e,null,l,i)):Je(t,e,l,i),e.memoizedState=n.state,s&&Md(e,r,!0),e.child}function Qm(t){var e=t.stateNode;e.pendingContext?Ad(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ad(t,e.context,!1),gc(t,e.containerInfo)}function Gd(t,e,r,n,s){return ts(),cc(s),e.flags|=256,Je(t,e,r,n),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function au(t){return{baseLanes:t,cachePool:null,transitions:null}}function Km(t,e,r){var n=e.pendingProps,s=ye.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(ye,s&1),t===null)return Gl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bo(a,n,0,null),t=un(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=au(r),e.memoizedState=iu,t):jc(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fv(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Ur(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ur(l,i):(i=un(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?au(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=iu,n}return i=t.child,t=i.sibling,n=Ur(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jc(t,e){return e=bo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sa(t,e,r,n){return n!==null&&cc(n),rs(e,t.child,null,r),t=jc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fv(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=ol(Error(O(422))),sa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=bo({mode:"visible",children:n.children},s,0,null),i=un(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&rs(e,t.child,null,a),e.child.memoizedState=au(a),e.memoizedState=iu,i);if(!(e.mode&1))return sa(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(O(419)),n=ol(i,n,void 0),sa(t,e,a,n)}if(l=(a&t.childLanes)!==0,at||l){if(n=$e,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hr(t,s),It(n,t,s,-1))}return Pc(),n=ol(Error(O(421))),sa(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ey.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ht=Ir(s.nextSibling),mt=e,ge=!0,Ot=null,t!==null&&(xt[wt++]=lr,xt[wt++]=ur,xt[wt++]=fn,lr=t.id,ur=t.overflow,fn=e),e=jc(e,n.children),e.flags|=4096,e)}function Xd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Xl(t.return,e,r)}function ll(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Jm(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Je(t,e,n.children,r),n=ye.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xd(t,r,e);else if(t.tag===19)Xd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fe(ye,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Fa(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ll(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fa(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ll(e,!0,r,null,i);break;case"together":ll(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _a(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,r=Ur(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ur(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Bv(t,e,r){switch(e.tag){case 3:Qm(e),ts();break;case 5:km(e);break;case 1:ut(e.type)&&Aa(e);break;case 4:gc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;fe(Ua,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(fe(ye,ye.current&1),e.flags|=128,null):r&e.child.childLanes?Km(t,e,r):(fe(ye,ye.current&1),t=mr(t,e,r),t!==null?t.sibling:null);fe(ye,ye.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Jm(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(ye,ye.current),n)break;return null;case 22:case 23:return e.lanes=0,Ym(t,e,r)}return mr(t,e,r)}var Gm,ou,Xm,ep;Gm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ou=function(){};Xm=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,on(Zt.current);var i=null;switch(r){case"input":s=Cl(t,s),n=Cl(t,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=Dl(t,s),n=Dl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ra)}Il(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&he("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ep=function(t,e,r,n){r!==n&&(e.flags|=4)};function Cs(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hv(t,e,r){var n=e.pendingProps;switch(uc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return ut(e.type)&&Ia(),We(e),null;case 3:return n=e.stateNode,ns(),me(lt),me(Ye),yc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ra(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(pu(Ot),Ot=null))),ou(t,e),We(e),null;case 5:vc(e);var s=on(di.current);if(r=e.type,t!==null&&e.stateNode!=null)Xm(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(O(166));return We(e),null}if(t=on(Zt.current),ra(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[qt]=e,n[ui]=i,t=(e.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<$s.length;s++)he($s[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":ld(n,i),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},he("invalid",n);break;case"textarea":cd(n,i),he("invalid",n)}Il(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ta(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ta(n.textContent,l,t),s=["children",""+l]):Xs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&he("scroll",n)}switch(r){case"input":Yi(n),ud(n,i,!0);break;case"textarea":Yi(n),dd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ra)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[qt]=e,t[ui]=n,Gm(t,e,!1,!1),e.stateNode=t;e:{switch(a=Al(r,n),r){case"dialog":he("cancel",t),he("close",t),s=n;break;case"iframe":case"object":case"embed":he("load",t),s=n;break;case"video":case"audio":for(s=0;s<$s.length;s++)he($s[s],t);s=n;break;case"source":he("error",t),s=n;break;case"img":case"image":case"link":he("error",t),he("load",t),s=n;break;case"details":he("toggle",t),s=n;break;case"input":ld(t,n),s=Cl(t,n),he("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),he("invalid",t);break;case"textarea":cd(t,n),s=Dl(t,n),he("invalid",t);break;default:s=n}Il(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Oh(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ch(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ei(t,u):typeof u=="number"&&ei(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xs.hasOwnProperty(i)?u!=null&&i==="onScroll"&&he("scroll",t):u!=null&&Zu(t,i,u,a))}switch(r){case"input":Yi(t),ud(t,n,!1);break;case"textarea":Yi(t),dd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Wn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Wn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ra)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)ep(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(O(166));if(r=on(di.current),on(Zt.current),ra(e)){if(n=e.stateNode,r=e.memoizedProps,n[qt]=e,(i=n.nodeValue!==r)&&(t=mt,t!==null))switch(t.tag){case 3:ta(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ta(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qt]=e,e.stateNode=n}return We(e),null;case 13:if(me(ye),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&ht!==null&&e.mode&1&&!(e.flags&128))ym(),ts(),e.flags|=98560,i=!1;else if(i=ra(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[qt]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),i=!1}else Ot!==null&&(pu(Ot),Ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Re===0&&(Re=3):Pc())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return ns(),ou(t,e),t===null&&oi(e.stateNode.containerInfo),We(e),null;case 10:return hc(e.type._context),We(e),null;case 17:return ut(e.type)&&Ia(),We(e),null;case 19:if(me(ye),i=e.memoizedState,i===null)return We(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Cs(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Fa(t),a!==null){for(e.flags|=128,Cs(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return fe(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>is&&(e.flags|=128,n=!0,Cs(i,!1),e.lanes=4194304)}else{if(!n)if(t=Fa(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ge)return We(e),null}else 2*Se()-i.renderingStartTime>is&&r!==1073741824&&(e.flags|=128,n=!0,Cs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,r=ye.current,fe(ye,n?r&1|2:r&1),e):(We(e),null);case 22:case 23:return Cc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ft&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function qv(t,e){switch(uc(e),e.tag){case 1:return ut(e.type)&&Ia(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),me(lt),me(Ye),yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vc(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return ns(),null;case 10:return hc(e.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var ia=!1,Ve=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,U=null;function zn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(t,e,n)}else r.current=null}function lu(t,e,r){try{r()}catch(n){be(t,e,n)}}var ef=!1;function Vv(t,e){if(Wl=Pa,t=im(),oc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++c===s&&(l=a),h===i&&++d===n&&(u=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vl={focusedElem:t,selectionRange:r},Pa=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,y=x.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Et(e.type,w),y);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){be(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return x=ef,ef=!1,x}function Ys(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lu(e,r,i)}s=s.next}while(s!==n)}}function wo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tp(t){var e=t.alternate;e!==null&&(t.alternate=null,tp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[ui],delete e[Ql],delete e[Ev],delete e[Cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ra));else if(n!==4&&(t=t.child,t!==null))for(cu(t,e,r),t=t.sibling;t!==null;)cu(t,e,r),t=t.sibling}function du(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(du(t,e,r),t=t.sibling;t!==null;)du(t,e,r),t=t.sibling}var Ue=null,Ct=!1;function xr(t,e,r){for(r=r.child;r!==null;)np(t,e,r),r=r.sibling}function np(t,e,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(fo,r)}catch{}switch(r.tag){case 5:Ve||zn(r,e);case 6:var n=Ue,s=Ct;Ue=null,xr(t,e,r),Ue=n,Ct=s,Ue!==null&&(Ct?(t=Ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Ct?(t=Ue,r=r.stateNode,t.nodeType===8?tl(t.parentNode,r):t.nodeType===1&&tl(t,r),si(t)):tl(Ue,r.stateNode));break;case 4:n=Ue,s=Ct,Ue=r.stateNode.containerInfo,Ct=!0,xr(t,e,r),Ue=n,Ct=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lu(r,e,a),s=s.next}while(s!==n)}xr(t,e,r);break;case 1:if(!Ve&&(zn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,e,l)}xr(t,e,r);break;case 21:xr(t,e,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,xr(t,e,r),Ve=n):xr(t,e,r);break;default:xr(t,e,r)}}function rf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Wv),e.forEach(function(n){var s=ty.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Ct=!1;break e;case 3:Ue=l.stateNode.containerInfo,Ct=!0;break e;case 4:Ue=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Ue===null)throw Error(O(160));np(i,a,s),Ue=null,Ct=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sp(e,t),e=e.sibling}function sp(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),Ft(t),n&4){try{Ys(3,t,t.return),wo(3,t)}catch(w){be(t,t.return,w)}try{Ys(5,t,t.return)}catch(w){be(t,t.return,w)}}break;case 1:Tt(e,t),Ft(t),n&512&&r!==null&&zn(r,r.return);break;case 5:if(Tt(e,t),Ft(t),n&512&&r!==null&&zn(r,r.return),t.flags&32){var s=t.stateNode;try{ei(s,"")}catch(w){be(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sh(s,i),Al(l,a);var c=Al(l,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Oh(s,f):d==="dangerouslySetInnerHTML"?Ch(s,f):d==="children"?ei(s,f):Zu(s,d,f,c)}switch(l){case"input":Pl(s,i);break;case"textarea":Th(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ui]=i}catch(w){be(t,t.return,w)}}break;case 6:if(Tt(e,t),Ft(t),n&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){be(t,t.return,w)}}break;case 3:if(Tt(e,t),Ft(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{si(e.containerInfo)}catch(w){be(t,t.return,w)}break;case 4:Tt(e,t),Ft(t);break;case 13:Tt(e,t),Ft(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tc=Se())),n&4&&rf(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ve=(c=Ve)||d,Tt(e,t),Ve=c):Tt(e,t),Ft(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(f=U=d;U!==null;){switch(h=U,v=h.child,h.tag){case 0:case 11:case 14:case 15:Ys(4,h,h.return);break;case 1:zn(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){be(n,r,w)}}break;case 5:zn(h,h.return);break;case 22:if(h.memoizedState!==null){sf(f);continue}}v!==null?(v.return=h,U=v):sf(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ph("display",a))}catch(w){be(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){be(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(e,t),Ft(t),n&4&&rf(t);break;case 21:break;default:Tt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rp(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ei(s,""),n.flags&=-33);var i=tf(t);du(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=tf(t);cu(t,l,a);break;default:throw Error(O(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yv(t,e,r){U=t,ip(t)}function ip(t,e,r){for(var n=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ia;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ve;l=ia;var c=Ve;if(ia=a,(Ve=u)&&!c)for(U=s;U!==null;)a=U,u=a.child,a.tag===22&&a.memoizedState!==null?af(s):u!==null?(u.return=a,U=u):af(s);for(;i!==null;)U=i,ip(i),i=i.sibling;U=s,ia=l,Ve=c}nf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):nf(t)}}function nf(t){for(;U!==null;){var e=U;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||wo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Et(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fd(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Fd(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&si(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ve||e.flags&512&&uu(e)}catch(h){be(e,e.return,h)}}if(e===t){U=null;break}if(r=e.sibling,r!==null){r.return=e.return,U=r;break}U=e.return}}function sf(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var r=e.sibling;if(r!==null){r.return=e.return,U=r;break}U=e.return}}function af(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wo(4,e)}catch(u){be(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){be(e,s,u)}}var i=e.return;try{uu(e)}catch(u){be(e,i,u)}break;case 5:var a=e.return;try{uu(e)}catch(u){be(e,a,u)}}}catch(u){be(e,e.return,u)}if(e===t){U=null;break}var l=e.sibling;if(l!==null){l.return=e.return,U=l;break}U=e.return}}var Zv=Math.ceil,qa=yr.ReactCurrentDispatcher,Nc=yr.ReactCurrentOwner,bt=yr.ReactCurrentBatchConfig,re=0,$e=null,Pe=null,ze=0,ft=0,Fn=Zr(0),Re=0,pi=null,mn=0,_o=0,Sc=0,Zs=null,st=null,Tc=0,is=1/0,sr=null,Wa=!1,fu=null,Mr=null,aa=!1,Pr=null,Va=0,Qs=0,hu=null,ba=-1,ka=0;function Xe(){return re&6?Se():ba!==-1?ba:ba=Se()}function $r(t){return t.mode&1?re&2&&ze!==0?ze&-ze:Ov.transition!==null?(ka===0&&(ka=Hh()),ka):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Kh(t.type)),t):1}function It(t,e,r,n){if(50<Qs)throw Qs=0,hu=null,Error(O(185));Ai(t,r,n),(!(re&2)||t!==$e)&&(t===$e&&(!(re&2)&&(_o|=r),Re===4&&Tr(t,ze)),ct(t,n),r===1&&re===0&&!(e.mode&1)&&(is=Se()+500,vo&&Qr()))}function ct(t,e){var r=t.callbackNode;O0(t,e);var n=Ca(t,t===$e?ze:0);if(n===0)r!==null&&md(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&md(r),e===1)t.tag===0?Pv(of.bind(null,t)):pm(of.bind(null,t)),Sv(function(){!(re&6)&&Qr()}),r=null;else{switch(qh(n)){case 1:r=Xu;break;case 4:r=Fh;break;case 16:r=Ea;break;case 536870912:r=Bh;break;default:r=Ea}r=hp(r,ap.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ap(t,e){if(ba=-1,ka=0,re&6)throw Error(O(327));var r=t.callbackNode;if(Kn()&&t.callbackNode!==r)return null;var n=Ca(t,t===$e?ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ya(t,n);else{e=n;var s=re;re|=2;var i=lp();($e!==t||ze!==e)&&(sr=null,is=Se()+500,ln(t,e));do try{Jv();break}catch(l){op(t,l)}while(!0);fc(),qa.current=i,re=s,Pe!==null?e=0:($e=null,ze=0,e=Re)}if(e!==0){if(e===2&&(s=zl(t),s!==0&&(n=s,e=mu(t,s))),e===1)throw r=pi,ln(t,0),Tr(t,n),ct(t,Se()),r;if(e===6)Tr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qv(s)&&(e=Ya(t,n),e===2&&(i=zl(t),i!==0&&(n=i,e=mu(t,i))),e===1))throw r=pi,ln(t,0),Tr(t,n),ct(t,Se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(O(345));case 2:en(t,st,sr);break;case 3:if(Tr(t,n),(n&130023424)===n&&(e=Tc+500-Se(),10<e)){if(Ca(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zl(en.bind(null,t,st,sr),e);break}en(t,st,sr);break;case 4:if(Tr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Rt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zv(n/1960))-n,10<n){t.timeoutHandle=Zl(en.bind(null,t,st,sr),n);break}en(t,st,sr);break;case 5:en(t,st,sr);break;default:throw Error(O(329))}}}return ct(t,Se()),t.callbackNode===r?ap.bind(null,t):null}function mu(t,e){var r=Zs;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=Ya(t,e),t!==2&&(e=st,st=r,e!==null&&pu(e)),t}function pu(t){st===null?st=t:st.push.apply(st,t)}function Qv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Sc,e&=~_o,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rt(e),n=1<<r;t[r]=-1,e&=~n}}function of(t){if(re&6)throw Error(O(327));Kn();var e=Ca(t,0);if(!(e&1))return ct(t,Se()),null;var r=Ya(t,e);if(t.tag!==0&&r===2){var n=zl(t);n!==0&&(e=n,r=mu(t,n))}if(r===1)throw r=pi,ln(t,0),Tr(t,e),ct(t,Se()),r;if(r===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,en(t,st,sr),ct(t,Se()),null}function Ec(t,e){var r=re;re|=1;try{return t(e)}finally{re=r,re===0&&(is=Se()+500,vo&&Qr())}}function pn(t){Pr!==null&&Pr.tag===0&&!(re&6)&&Kn();var e=re;re|=1;var r=bt.transition,n=ue;try{if(bt.transition=null,ue=1,t)return t()}finally{ue=n,bt.transition=r,re=e,!(re&6)&&Qr()}}function Cc(){ft=Fn.current,me(Fn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Nv(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(uc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ia();break;case 3:ns(),me(lt),me(Ye),yc();break;case 5:vc(n);break;case 4:ns();break;case 13:me(ye);break;case 19:me(ye);break;case 10:hc(n.type._context);break;case 22:case 23:Cc()}r=r.return}if($e=t,Pe=t=Ur(t.current,null),ze=ft=e,Re=0,pi=null,Sc=_o=mn=0,st=Zs=null,an!==null){for(e=0;e<an.length;e++)if(r=an[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}an=null}return t}function op(t,e){do{var r=Pe;try{if(fc(),xa.current=Ha,Ba){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ba=!1}if(hn=0,Me=De=we=null,Vs=!1,fi=0,Nc.current=null,r===null||r.return===null){Re=1,pi=e,Pe=null;break}e:{var i=t,a=r.return,l=r,u=e;if(e=ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Yd(a);if(v!==null){v.flags&=-257,Zd(v,a,l,i,e),v.mode&1&&Vd(i,c,e),e=v,u=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(u),e.updateQueue=w}else x.add(u);break e}else{if(!(e&1)){Vd(i,c,e),Pc();break e}u=Error(O(426))}}else if(ge&&l.mode&1){var y=Yd(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Zd(y,a,l,i,e),cc(ss(u,l));break e}}i=u=ss(u,l),Re!==4&&(Re=2),Zs===null?Zs=[i]:Zs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=qm(i,u,e);zd(i,m);break e;case 1:l=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Wm(i,l,e);zd(i,b);break e}}i=i.return}while(i!==null)}cp(r)}catch(k){e=k,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function lp(){var t=qa.current;return qa.current=Ha,t===null?Ha:t}function Pc(){(Re===0||Re===3||Re===2)&&(Re=4),$e===null||!(mn&268435455)&&!(_o&268435455)||Tr($e,ze)}function Ya(t,e){var r=re;re|=2;var n=lp();($e!==t||ze!==e)&&(sr=null,ln(t,e));do try{Kv();break}catch(s){op(t,s)}while(!0);if(fc(),re=r,qa.current=n,Pe!==null)throw Error(O(261));return $e=null,ze=0,Re}function Kv(){for(;Pe!==null;)up(Pe)}function Jv(){for(;Pe!==null&&!b0();)up(Pe)}function up(t){var e=fp(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?cp(t):Pe=e,Nc.current=null}function cp(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qv(r,e),r!==null){r.flags&=32767,Pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Pe=null;return}}else if(r=Hv(r,e,ft),r!==null){Pe=r;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Re===0&&(Re=5)}function en(t,e,r){var n=ue,s=bt.transition;try{bt.transition=null,ue=1,Gv(t,e,r,n)}finally{bt.transition=s,ue=n}return null}function Gv(t,e,r,n){do Kn();while(Pr!==null);if(re&6)throw Error(O(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(D0(t,i),t===$e&&(Pe=$e=null,ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aa||(aa=!0,hp(Ea,function(){return Kn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var a=ue;ue=1;var l=re;re|=4,Nc.current=null,Vv(t,r),sp(r,t),yv(Vl),Pa=!!Wl,Vl=Wl=null,t.current=r,Yv(r),k0(),re=l,ue=a,bt.transition=i}else t.current=r;if(aa&&(aa=!1,Pr=t,Va=s),i=t.pendingLanes,i===0&&(Mr=null),S0(r.stateNode),ct(t,Se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Wa)throw Wa=!1,t=fu,fu=null,t;return Va&1&&t.tag!==0&&Kn(),i=t.pendingLanes,i&1?t===hu?Qs++:(Qs=0,hu=t):Qs=0,Qr(),null}function Kn(){if(Pr!==null){var t=qh(Va),e=bt.transition,r=ue;try{if(bt.transition=null,ue=16>t?16:t,Pr===null)var n=!1;else{if(t=Pr,Pr=null,Va=0,re&6)throw Error(O(331));var s=re;for(re|=4,U=t.current;U!==null;){var i=U,a=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Ys(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var h=d.sibling,v=d.return;if(tp(d),d===c){U=null;break}if(h!==null){h.return=v,U=h;break}U=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,U=a;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ys(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,U=m;break e}U=i.return}}var p=t.current;for(U=p;U!==null;){a=U;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,U=g;else e:for(a=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wo(9,l)}}catch(k){be(l,l.return,k)}if(l===a){U=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,U=b;break e}U=l.return}}if(re=s,Qr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(fo,t)}catch{}n=!0}return n}finally{ue=r,bt.transition=e}}return!1}function lf(t,e,r){e=ss(r,e),e=qm(t,e,1),t=Ar(t,e,1),e=Xe(),t!==null&&(Ai(t,1,e),ct(t,e))}function be(t,e,r){if(t.tag===3)lf(t,t,r);else for(;e!==null;){if(e.tag===3){lf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mr===null||!Mr.has(n))){t=ss(r,t),t=Wm(e,t,1),e=Ar(e,t,1),t=Xe(),e!==null&&(Ai(e,1,t),ct(e,t));break}}e=e.return}}function Xv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&r,$e===t&&(ze&r)===r&&(Re===4||Re===3&&(ze&130023424)===ze&&500>Se()-Tc?ln(t,0):Sc|=r),ct(t,e)}function dp(t,e){e===0&&(t.mode&1?(e=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):e=1);var r=Xe();t=hr(t,e),t!==null&&(Ai(t,e,r),ct(t,r))}function ey(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dp(t,r)}function ty(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(e),dp(t,r)}var fp;fp=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)at=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return at=!1,Bv(t,e,r);at=!!(t.flags&131072)}else at=!1,ge&&e.flags&1048576&&gm(e,$a,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_a(t,e),t=e.pendingProps;var s=es(e,Ye.current);Qn(e,r),s=wc(null,e,n,t,s,r);var i=_c();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(n)?(i=!0,Aa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pc(e),s.updater=xo,e.stateNode=s,s._reactInternals=e,tu(e,n,t,r),e=su(null,e,n,!0,i,r)):(e.tag=0,ge&&i&&lc(e),Je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_a(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ny(n),t=Et(n,t),s){case 0:e=nu(null,e,n,t,r);break e;case 1:e=Jd(null,e,n,t,r);break e;case 11:e=Qd(null,e,n,t,r);break e;case 14:e=Kd(null,e,n,Et(n.type,t),r);break e}throw Error(O(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Et(n,s),nu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Et(n,s),Jd(t,e,n,s,r);case 3:e:{if(Qm(e),t===null)throw Error(O(387));n=e.pendingProps,i=e.memoizedState,s=i.element,bm(t,e),za(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ss(Error(O(423)),e),e=Gd(t,e,n,r,s);break e}else if(n!==s){s=ss(Error(O(424)),e),e=Gd(t,e,n,r,s);break e}else for(ht=Ir(e.stateNode.containerInfo.firstChild),mt=e,ge=!0,Ot=null,r=wm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ts(),n===s){e=mr(t,e,r);break e}Je(t,e,n,r)}e=e.child}return e;case 5:return km(e),t===null&&Gl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Yl(n,s)?a=null:i!==null&&Yl(n,i)&&(e.flags|=32),Zm(t,e),Je(t,e,a,r),e.child;case 6:return t===null&&Gl(e),null;case 13:return Km(t,e,r);case 4:return gc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rs(e,null,n,r):Je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Et(n,s),Qd(t,e,n,s,r);case 7:return Je(t,e,e.pendingProps,r),e.child;case 8:return Je(t,e,e.pendingProps.children,r),e.child;case 12:return Je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,fe(Ua,n._currentValue),n._currentValue=a,i!==null)if(Mt(i.value,a)){if(i.children===s.children&&!lt.current){e=mr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=cr(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Xl(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Xl(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qn(e,r),s=jt(s),n=n(s),e.flags|=1,Je(t,e,n,r),e.child;case 14:return n=e.type,s=Et(n,e.pendingProps),s=Et(n.type,s),Kd(t,e,n,s,r);case 15:return Vm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Et(n,s),_a(t,e),e.tag=1,ut(n)?(t=!0,Aa(e)):t=!1,Qn(e,r),Hm(e,n,s),tu(e,n,s,r),su(null,e,n,!0,t,r);case 19:return Jm(t,e,r);case 22:return Ym(t,e,r)}throw Error(O(156,e.tag))};function hp(t,e){return zh(t,e)}function ry(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,r,n){return new ry(t,e,r,n)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ny(t){if(typeof t=="function")return Oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ku)return 11;if(t===Ju)return 14}return 2}function Ur(t,e){var r=t.alternate;return r===null?(r=_t(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ja(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Oc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case On:return un(r.children,s,i,e);case Qu:a=8,s|=8;break;case Nl:return t=_t(12,r,e,s|2),t.elementType=Nl,t.lanes=i,t;case Sl:return t=_t(13,r,e,s),t.elementType=Sl,t.lanes=i,t;case Tl:return t=_t(19,r,e,s),t.elementType=Tl,t.lanes=i,t;case kh:return bo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _h:a=10;break e;case bh:a=9;break e;case Ku:a=11;break e;case Ju:a=14;break e;case kr:a=16,n=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=_t(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function un(t,e,r,n){return t=_t(7,t,n,e),t.lanes=r,t}function bo(t,e,r,n){return t=_t(22,t,n,e),t.elementType=kh,t.lanes=r,t.stateNode={isHidden:!1},t}function ul(t,e,r){return t=_t(6,t,null,e),t.lanes=r,t}function cl(t,e,r){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sy(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dc(t,e,r,n,s,i,a,l,u){return t=new sy(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_t(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(i),t}function iy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mp(t){if(!t)return Br;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var r=t.type;if(ut(r))return mm(t,r,e)}return e}function pp(t,e,r,n,s,i,a,l,u){return t=Dc(r,n,!0,t,s,i,a,l,u),t.context=mp(null),r=t.current,n=Xe(),s=$r(r),i=cr(n,s),i.callback=e??null,Ar(r,i,s),t.current.lanes=s,Ai(t,s,n),ct(t,n),t}function ko(t,e,r,n){var s=e.current,i=Xe(),a=$r(s);return r=mp(r),e.context===null?e.context=r:e.pendingContext=r,e=cr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ar(s,e,a),t!==null&&(It(t,s,a,i),ya(t,s,a)),a}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Rc(t,e){uf(t,e),(t=t.alternate)&&uf(t,e)}function ay(){return null}var gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ic(t){this._internalRoot=t}jo.prototype.render=Ic.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));ko(t,e,null,null)};jo.prototype.unmount=Ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pn(function(){ko(null,t,null,null)}),e[fr]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Sr.length&&e!==0&&e<Sr[r].priority;r++);Sr.splice(r,0,t),r===0&&Qh(t)}};function Ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function No(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cf(){}function oy(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Za(a);i.call(c)}}var a=pp(e,n,t,0,null,!1,!1,"",cf);return t._reactRootContainer=a,t[fr]=a.current,oi(t.nodeType===8?t.parentNode:t),pn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Za(u);l.call(c)}}var u=Dc(t,0,!1,null,null,!1,!1,"",cf);return t._reactRootContainer=u,t[fr]=u.current,oi(t.nodeType===8?t.parentNode:t),pn(function(){ko(e,u,r,n)}),u}function So(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Za(a);l.call(u)}}ko(e,a,t,s)}else a=oy(r,e,t,s,n);return Za(a)}Wh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ms(e.pendingLanes);r!==0&&(ec(e,r|1),ct(e,Se()),!(re&6)&&(is=Se()+500,Qr()))}break;case 13:pn(function(){var n=hr(t,1);if(n!==null){var s=Xe();It(n,t,1,s)}}),Rc(t,1)}};tc=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var r=Xe();It(e,t,134217728,r)}Rc(t,134217728)}};Vh=function(t){if(t.tag===13){var e=$r(t),r=hr(t,e);if(r!==null){var n=Xe();It(r,t,e,n)}Rc(t,e)}};Yh=function(){return ue};Zh=function(t,e){var r=ue;try{return ue=t,e()}finally{ue=r}};$l=function(t,e,r){switch(e){case"input":if(Pl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=go(n);if(!s)throw Error(O(90));Nh(n),Pl(n,s)}}}break;case"textarea":Th(t,r);break;case"select":e=r.value,e!=null&&Wn(t,!!r.multiple,e,!1)}};Ih=Ec;Ah=pn;var ly={usingClientEntryPoint:!1,Events:[$i,An,go,Dh,Rh,Ec]},Ps={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uy={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||ay,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{fo=oa.inject(uy),Yt=oa}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ly;vt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(e))throw Error(O(200));return iy(t,e,null,r)};vt.createRoot=function(t,e){if(!Ac(t))throw Error(O(299));var r=!1,n="",s=gp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dc(t,1,!1,null,null,r,!1,n,s),t[fr]=e.current,oi(t.nodeType===8?t.parentNode:t),new Ic(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Uh(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return pn(t)};vt.hydrate=function(t,e,r){if(!No(e))throw Error(O(200));return So(null,t,e,!0,r)};vt.hydrateRoot=function(t,e,r){if(!Ac(t))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=gp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=pp(e,null,t,1,r??null,s,!1,i,a),t[fr]=e.current,oi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new jo(e)};vt.render=function(t,e,r){if(!No(e))throw Error(O(200));return So(null,t,e,!1,r)};vt.unmountComponentAtNode=function(t){if(!No(t))throw Error(O(40));return t._reactRootContainer?(pn(function(){So(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};vt.unstable_batchedUpdates=Ec;vt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!No(r))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return So(t,e,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vp)}catch(t){console.error(t)}}vp(),vh.exports=vt;var cy=vh.exports,yp,df=cy;yp=df.createRoot,df.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}var Qa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qa||(Qa={}));function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ff(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Li(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var hf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hf||(hf={}));function dy(t,e,r){return r===void 0&&(r="/"),fy(t,e,r,!1)}function fy(t,e,r,n){let s=typeof e=="string"?Li(e):e,i=Mc(s.pathname||"/",r);if(i==null)return null;let a=wp(t);hy(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=jy(i);l=by(a[u],c,n)}return l}function wp(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Oe(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Lr([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wp(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:wy(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of _p(i.path))s(i,a,u)}),e}function _p(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=_p(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function hy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_y(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const my=/^:[\w-]+$/,py=3,gy=2,vy=1,yy=10,xy=-2,mf=t=>t==="*";function wy(t,e){let r=t.split("/"),n=r.length;return r.some(mf)&&(n+=xy),e&&(n+=gy),r.filter(s=>!mf(s)).reduce((s,i)=>s+(my.test(i)?py:i===""?vy:yy),n)}function _y(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function by(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=pf({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=pf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Lr([i,f.pathname]),pathnameBase:Ey(Lr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Lr([i,f.pathnameBase]))}return a}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ky(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let w=l[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[f];return v&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function ky(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),xp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function jy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ny(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Li(t):t;return{pathname:r?r.startsWith("/")?r:Sy(r,e):e,search:Cy(n),hash:Py(s)}}function Sy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ty(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $c(t,e){let r=Ty(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Uc(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Li(t):(s=gu({},t),Oe(!s.pathname||!s.pathname.includes("?"),dl("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),dl("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),dl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?e[f]:"/"}let u=Ny(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Lr=t=>t.join("/").replace(/\/\/+/g,"/"),Ey=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Py=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Oy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bp=["post","put","patch","delete"];new Set(bp);const Dy=["get",...bp];new Set(Dy);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gi.apply(this,arguments)}const Lc=_.createContext(null),Ry=_.createContext(null),Kr=_.createContext(null),To=_.createContext(null),Gt=_.createContext({outlet:null,matches:[],isDataRoute:!1}),kp=_.createContext(null);function Iy(t,e){let{relative:r}=e===void 0?{}:e;vs()||Oe(!1);let{basename:n,navigator:s}=_.useContext(Kr),{hash:i,pathname:a,search:l}=Np(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Lr([n,a])),s.createHref({pathname:u,search:l,hash:i})}function vs(){return _.useContext(To)!=null}function Xt(){return vs()||Oe(!1),_.useContext(To).location}function jp(t){_.useContext(Kr).static||_.useLayoutEffect(t)}function Ke(){let{isDataRoute:t}=_.useContext(Gt);return t?Qy():Ay()}function Ay(){vs()||Oe(!1);let t=_.useContext(Lc),{basename:e,future:r,navigator:n}=_.useContext(Kr),{matches:s}=_.useContext(Gt),{pathname:i}=Xt(),a=JSON.stringify($c(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return jp(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=Uc(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Lr([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,i,t])}const My=_.createContext(null);function $y(t){let e=_.useContext(Gt).outlet;return e&&_.createElement(My.Provider,{value:t},e)}function ys(){let{matches:t}=_.useContext(Gt),e=t[t.length-1];return e?e.params:{}}function Np(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(Kr),{matches:s}=_.useContext(Gt),{pathname:i}=Xt(),a=JSON.stringify($c(s,n.v7_relativeSplatPath));return _.useMemo(()=>Uc(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Uy(t,e){return Ly(t,e)}function Ly(t,e,r,n){vs()||Oe(!1);let{navigator:s,static:i}=_.useContext(Kr),{matches:a}=_.useContext(Gt),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Xt(),f;if(e){var h;let m=typeof e=="string"?Li(e):e;c==="/"||(h=m.pathname)!=null&&h.startsWith(c)||Oe(!1),f=m}else f=d;let v=f.pathname||"/",x=v;if(c!=="/"){let m=c.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=!i&&r&&r.matches&&r.matches.length>0?r.matches:dy(t,{pathname:x}),y=qy(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:Lr([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Lr([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,r,n);return e&&y?_.createElement(To.Provider,{value:{location:gi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qa.Pop}},y):y}function zy(){let t=Zy(),e=Oy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,null)}const Fy=_.createElement(zy,null);class By extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Gt.Provider,{value:this.props.routeContext},_.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hy(t){let{routeContext:e,match:r,children:n}=t,s=_.useContext(Lc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Gt.Provider,{value:e},n)}function qy(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Oe(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:v}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let v,x=!1,w=null,y=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||Fy,u&&(c<0&&h===0?(x=!0,y=null):c===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,h+1)),p=()=>{let g;return v?g=w:x?g=y:f.route.Component?g=_.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,_.createElement(Hy,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(By,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Sp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sp||{}),Ka=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ka||{});function Wy(t){let e=_.useContext(Lc);return e||Oe(!1),e}function Vy(t){let e=_.useContext(Ry);return e||Oe(!1),e}function Yy(t){let e=_.useContext(Gt);return e||Oe(!1),e}function Tp(t){let e=Yy(),r=e.matches[e.matches.length-1];return r.route.id||Oe(!1),r.route.id}function Zy(){var t;let e=_.useContext(kp),r=Vy(Ka.UseRouteError),n=Tp(Ka.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Qy(){let{router:t}=Wy(Sp.UseNavigateStable),e=Tp(Ka.UseNavigateStable),r=_.useRef(!1);return jp(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gi({fromRouteId:e},i)))},[t,e])}function Ky(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jy(t){let{to:e,replace:r,state:n,relative:s}=t;vs()||Oe(!1);let{future:i,static:a}=_.useContext(Kr),{matches:l}=_.useContext(Gt),{pathname:u}=Xt(),c=Ke(),d=Uc(e,$c(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function Gy(t){return $y(t.context)}function Ie(t){Oe(!1)}function Xy(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Qa.Pop,navigator:i,static:a=!1,future:l}=t;vs()&&Oe(!1);let u=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:i,static:a,future:gi({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof n=="string"&&(n=Li(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:x="default"}=n,w=_.useMemo(()=>{let y=Mc(d,u);return y==null?null:{location:{pathname:y,search:f,hash:h,state:v,key:x},navigationType:s}},[u,d,f,h,v,x,s]);return w==null?null:_.createElement(Kr.Provider,{value:c},_.createElement(To.Provider,{children:r,value:w}))}function ex(t){let{children:e,location:r}=t;return Uy(vu(e),r)}new Promise(()=>{});function vu(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,s)=>{if(!_.isValidElement(n))return;let i=[...e,s];if(n.type===_.Fragment){r.push.apply(r,vu(n.props.children,i));return}n.type!==Ie&&Oe(!1),!n.props.index||!n.props.children||Oe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vu(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yu.apply(this,arguments)}function tx(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function rx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nx(t,e){return t.button===0&&(!e||e==="_self")&&!rx(t)}function xu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function sx(t,e){let r=xu(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const ix=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ax="6";try{window.__reactRouterVersion=ax}catch{}const ox="startTransition",gf=Xg[ox];function lx(t){let{basename:e,children:r,future:n,history:s}=t,[i,a]=_.useState({action:s.action,location:s.location}),{v7_startTransition:l}=n||{},u=_.useCallback(c=>{l&&gf?gf(()=>a(c)):a(c)},[a,l]);return _.useLayoutEffect(()=>s.listen(u),[s,u]),_.useEffect(()=>Ky(n),[n]),_.createElement(Xy,{basename:e,children:r,location:i.location,navigationType:i.action,navigator:s,future:n})}const ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=_.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,h=tx(e,ix),{basename:v}=_.useContext(Kr),x,w=!1;if(typeof c=="string"&&cx.test(c)&&(x=c,ux))try{let g=new URL(window.location.href),b=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=Mc(b.pathname,v);b.origin===g.origin&&k!=null?c=k+b.search+b.hash:w=!0}catch{}let y=Iy(c,{relative:s}),m=dx(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});function p(g){n&&n(g),g.defaultPrevented||m(g)}return _.createElement("a",yu({},h,{href:x||y,onClick:w||i?n:p,ref:r,target:u}))});var vf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vf||(vf={}));var yf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yf||(yf={}));function dx(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,u=Ke(),c=Xt(),d=Np(t,{relative:a});return _.useCallback(f=>{if(nx(f,r)){f.preventDefault();let h=n!==void 0?n:ff(c)===ff(d);u(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,s,r,t,i,a,l])}function Ep(t){let e=_.useRef(xu(t)),r=_.useRef(!1),n=Xt(),s=_.useMemo(()=>sx(n.search,r.current?null:e.current),[n.search]),i=Ke(),a=_.useCallback((l,u)=>{const c=xu(typeof l=="function"?l(s):l);r.current=!0,i("?"+c,u)},[i,s]);return[s,a]}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ja.apply(null,arguments)}var Bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bn||(Bn={}));var xf=function(t){return t},wf="beforeunload",fx="popstate";function hx(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,s=n.history;function i(){var N=n.location,T=N.pathname,P=N.search,S=N.hash,E=s.state||{};return[E.idx,xf({pathname:T,search:P,hash:S,state:E.usr||null,key:E.key||"default"})]}var a=null;function l(){if(a)v.call(a),a=null;else{var N=Bn.Pop,T=i(),P=T[0],S=T[1];if(v.length){if(P!=null){var E=d-P;E&&(a={action:N,location:S,retry:function(){k(E*-1)}},k(E))}}else p(N)}}n.addEventListener(fx,l);var u=Bn.Pop,c=i(),d=c[0],f=c[1],h=bf(),v=bf();d==null&&(d=0,s.replaceState(Ja({},s.state,{idx:d}),""));function x(N){return typeof N=="string"?N:px(N)}function w(N,T){return T===void 0&&(T=null),xf(Ja({pathname:f.pathname,hash:"",search:""},typeof N=="string"?gx(N):N,{state:T,key:mx()}))}function y(N,T){return[{usr:N.state,key:N.key,idx:T},x(N)]}function m(N,T,P){return!v.length||(v.call({action:N,location:T,retry:P}),!1)}function p(N){u=N;var T=i();d=T[0],f=T[1],h.call({action:u,location:f})}function g(N,T){var P=Bn.Push,S=w(N,T);function E(){g(N,T)}if(m(P,S,E)){var A=y(S,d+1),V=A[0],ee=A[1];try{s.pushState(V,"",ee)}catch{n.location.assign(ee)}p(P)}}function b(N,T){var P=Bn.Replace,S=w(N,T);function E(){b(N,T)}if(m(P,S,E)){var A=y(S,d),V=A[0],ee=A[1];s.replaceState(V,"",ee),p(P)}}function k(N){s.go(N)}var j={get action(){return u},get location(){return f},createHref:x,push:g,replace:b,go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(T){return h.push(T)},block:function(T){var P=v.push(T);return v.length===1&&n.addEventListener(wf,_f),function(){P(),v.length||n.removeEventListener(wf,_f)}}};return j}function _f(t){t.preventDefault(),t.returnValue=""}function bf(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function mx(){return Math.random().toString(36).substr(2,8)}function px(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,s=n===void 0?"":n,i=t.hash,a=i===void 0?"":i;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function gx(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}const vx="modulepreload",yx=function(t){return"/"+t},kf={},as=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=yx(u),u in kf)return;kf[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":vx,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},xx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class zc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wx extends zc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _x extends zc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bx extends zc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wu||(wu={}));var kx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class jx{constructor(e,{headers:r={},customFetch:n,region:s=wu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=xx(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return kx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(l["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(l["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(x=>{throw new wx(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new _x(d);if(!d.ok)throw new bx(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var it={},Fc={},Eo={},zi={},Co={},Po={},Nx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},os=Nx();const Sx=os.fetch,Cp=os.fetch.bind(os),Pp=os.Headers,Tx=os.Request,Ex=os.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pp,Request:Tx,Response:Ex,default:Cp,fetch:Sx},Symbol.toStringTag,{value:"Module"})),Cx=$g(xs);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});let Px=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oo.default=Px;var Op=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0});const Ox=Op(Cx),Dx=Op(Oo);let Rx=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ox.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u;let c=null,d=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,v="OK")}catch{i.status===404&&w===""?(h=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,v="OK"),c&&this.shouldThrowOnError)throw new Dx.default(c)}return{error:c,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Po.default=Rx;var Ix=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Co,"__esModule",{value:!0});const Ax=Ix(Po);let Mx=class extends Ax.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Co.default=Mx;var $x=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});const Ux=$x(Co);let Lx=class extends Ux.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};zi.default=Lx;var zx=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eo,"__esModule",{value:!0});const Os=zx(zi);let Fx=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Os.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Os.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Os.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Os.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Os.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Eo.default=Fx;var Do={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.version=void 0;Ro.version="0.0.0-automated";Object.defineProperty(Do,"__esModule",{value:!0});Do.DEFAULT_HEADERS=void 0;const Bx=Ro;Do.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bx.version}`};var Dp=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fc,"__esModule",{value:!0});const Hx=Dp(Eo),qx=Dp(zi),Wx=Do;let Vx=class Rp{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Wx.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Hx.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new qx.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Fc.default=Vx;var ws=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const Ip=ws(Fc);it.PostgrestClient=Ip.default;const Ap=ws(Eo);it.PostgrestQueryBuilder=Ap.default;const Mp=ws(zi);it.PostgrestFilterBuilder=Mp.default;const $p=ws(Co);it.PostgrestTransformBuilder=$p.default;const Up=ws(Po);it.PostgrestBuilder=Up.default;const Lp=ws(Oo);it.PostgrestError=Lp.default;var Yx=it.default={PostgrestClient:Ip.default,PostgrestQueryBuilder:Ap.default,PostgrestFilterBuilder:Mp.default,PostgrestTransformBuilder:$p.default,PostgrestBuilder:Up.default,PostgrestError:Lp.default};const{PostgrestClient:Zx,PostgrestQueryBuilder:v2,PostgrestFilterBuilder:y2,PostgrestTransformBuilder:x2,PostgrestBuilder:w2,PostgrestError:_2}=Yx,Qx="2.11.2",Kx={"X-Client-Info":`realtime-js/${Qx}`},Jx="1.0.0",zp=1e4,Gx=1e3;var Jn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jn||(Jn={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var Pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pt||(Pt={}));var _u;(function(t){t.websocket="websocket"})(_u||(_u={}));var nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nn||(nn={}));class Xx{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Fp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const jf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=ew(a,t,e,s),i),{})},ew=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Bp(i,a):bu(a)},Bp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sw(e,r)}switch(t){case de.bool:return tw(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return rw(e);case de.json:case de.jsonb:return nw(e);case de.timestamp:return iw(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return bu(e);default:return bu(e)}},bu=t=>t,tw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Bp(e,l))}return t},iw=t=>typeof t=="string"?t.replace(" ","T"):t,Hp=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fl{constructor(e,r,n={},s=zp){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nf||(Nf={}));class Ks{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Ks.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ks.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(y=>y.presence_ref),v=f.map(y=>y.presence_ref),x=d.filter(y=>v.indexOf(y.presence_ref)<0),w=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(l[c]=x),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const f=e[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...h)}n(l,d,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sf||(Sf={}));var Tf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tf||(Tf={}));var ir;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class Bc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fl(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ks(this),this.broadcastEndpointURL=Hp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ir.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ir.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(ir.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let w=0;w<v;w++){const y=h[w],{filter:{event:m,schema:p,table:g,filter:b}}=y,k=d&&d[w];if(k&&k.event===m&&k.schema===p&&k.table===g&&k.filter===b)x.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),e==null||e(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ir.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new fl(this,Pt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fl(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Pt;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,w,y;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(w=v.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(v=>v.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var x,w,y,m,p,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,k=(x=v.filter)===null||x===void 0?void 0:x.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:w,table:y,commit_timestamp:m,type:p,errors:g}=x;h=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(h,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Bc.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pt.close,{},e)}_onError(e){this._on(Pt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jf(e.columns,e.old_record)),r}}const aw=()=>{},ow=typeof WebSocket<"u",lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uw{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Kx,this.params={},this.timeout=zp,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=aw,this.conn=null,this.sendBuffer=[],this.serializer=new Xx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>as(async()=>{const{default:u}=await Promise.resolve().then(()=>xs);return{default:u}},void 0).then(({default:u})=>u(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${_u.websocket}`,this.httpEndpoint=Hp(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ow){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new cw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),as(async()=>{const{default:e}=await import("./browser-DOfscGZQ.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jx}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jn.connecting:return nn.Connecting;case Jn.open:return nn.Open;case Jn.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}channel(e,r={config:{}}){const n=new Bc(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Pt.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Gx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([lw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class cw{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Hc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dw extends Hc{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ku extends Hc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var fw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const qp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},hw=()=>fw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>xs),void 0)).Response:Response}),ju=t=>{if(Array.isArray(t))return t.map(r=>ju(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ju(n)}),e};var bn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const hl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mw=(t,e,r)=>bn(void 0,void 0,void 0,function*(){const n=yield hw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new dw(hl(s),t.status||500))}).catch(s=>{e(new ku(hl(s),s))}):e(new ku(hl(t),t))}),pw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Fi(t,e,r,n,s,i){return bn(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,pw(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>mw(u,l,n))})})}function Ga(t,e,r,n){return bn(this,void 0,void 0,function*(){return Fi(t,"GET",e,r,n)})}function Nr(t,e,r,n,s){return bn(this,void 0,void 0,function*(){return Fi(t,"POST",e,n,s,r)})}function gw(t,e,r,n,s){return bn(this,void 0,void 0,function*(){return Fi(t,"PUT",e,n,s,r)})}function vw(t,e,r,n){return bn(this,void 0,void 0,function*(){return Fi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Wp(t,e,r,n,s){return bn(this,void 0,void 0,function*(){return Fi(t,"DELETE",e,n,s,r)})}var nt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const yw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ef={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xw{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=qp(s)}uploadOrUpdate(e,r,n,s){return nt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ef),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return nt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Ef.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(Ae(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Nr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Hc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Nr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return nt(this,void 0,void 0,function*(){try{const s=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}download(e,r){return nt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ga(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}info(e){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ga(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ju(n),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield vw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ae(n)&&n instanceof ku){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return nt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yw),r),{prefix:e||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ww="2.7.1",_w={"X-Client-Info":`storage-js/${ww}`};var jn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class bw{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},_w),r),this.fetch=qp(n)}listBuckets(){return jn(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return jn(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return jn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return jn(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return jn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jn(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}}class kw extends bw{constructor(e,r={},n){super(e,r,n)}from(e){return new xw(this.url,this.headers,e,this.fetch)}}const jw="2.49.4";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const Nw={"X-Client-Info":`supabase-js-${Us}/${jw}`},Sw={headers:Nw},Tw={schema:"public"},Ew={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cw={};var Pw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const Ow=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cp:e=fetch,(...r)=>e(...r)},Dw=()=>typeof Headers>"u"?Pp:Headers,Rw=(t,e,r)=>{const n=Ow(r),s=Dw();return(i,a)=>Pw(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Iw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};function Aw(t){return t.replace(/\/$/,"")}function Mw(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:l,realtime:u,global:c}=e,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Iw(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Vp="2.69.1",En=30*1e3,Nu=3,ml=Nu*En,$w="http://localhost:9999",Uw="supabase.auth.token",Lw={"X-Client-Info":`gotrue-js/${Vp}`},Su="X-Supabase-Api-Version",Yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fw=6e5;class qc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Bw extends qc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Hw(t){return Z(t)&&t.name==="AuthApiError"}class Zp extends qc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jr extends qc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class _r extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qw(t){return Z(t)&&t.name==="AuthSessionMissingError"}class pl extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class la extends Jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ua extends Jr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ww(t){return Z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cf extends Jr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tu extends Jr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function gl(t){return Z(t)&&t.name==="AuthRetryableFetchError"}class Pf extends Jr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Js extends Jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Df=` 	
\r=`.split(""),Vw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Df.length;e+=1)t[Df[e].charCodeAt(0)]=-2;for(let e=0;e<Of.length;e+=1)t[Of[e].charCodeAt(0)]=e;return t})();function Qp(t,e,r){const n=Vw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rf(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Qw(a,n,r)};for(let a=0;a<t.length;a+=1)Qp(t.charCodeAt(a),s,i);return e.join("")}function Yw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Yw(n,e)}}function Qw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Kw(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Qp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Jw(t){const e=[];return Zw(t,r=>e.push(r)),new Uint8Array(e)}function Gw(t){return Math.round(Date.now()/1e3)+t}function Xw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},Gs=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function e_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Kp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},t_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ca=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},da=async(t,e)=>{await t.removeItem(e)};class Io{constructor(){this.promise=new Io.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Io.promiseConstructor=Promise;function vl(t){const e=t.split(".");if(e.length!==3)throw new Js("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zw.test(e[n]))throw new Js("JWT not in base64url format");return{header:JSON.parse(Rf(e[0])),payload:JSON.parse(Rf(e[1])),signature:Kw(e[2]),raw:{header:e[0],payload:e[1]}}}async function r_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function n_(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function s_(t){return("0"+t.toString(16)).substr(-2)}function i_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,s_).join("")}async function a_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function o_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await a_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(t,e,r=!1){const n=i_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jp(t,`${e}-code-verifier`,s);const i=await o_(n);return[i,n===i?"plain":"s256"]}const l_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u_(t){const e=t.headers.get(Su);if(!e||!e.match(l_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function d_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var f_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h_=[502,503,504];async function If(t){var e;if(!t_(t))throw new Tu(tn(t),0);if(h_.includes(t.status))throw new Tu(tn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Zp(tn(i),i)}let n;const s=u_(t);if(s&&s.getTime()>=Yp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pf(tn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Pf(tn(r),t.status,r.weak_password.reasons);throw new Bw(tn(r),t.status||500,n)}const m_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Su]||(i[Su]=Yp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await p_(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function p_(t,e,r,n,s,i){const a=m_(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new Tu(tn(u),0)}if(l.ok||await If(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await If(u)}}function br(t){var e;let r=null;x_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Af(t){const e=br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Er(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function g_(t){return{data:t,error:null}}function v_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=f_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function y_(t){return t}function x_(t){return t.access_token&&t.refresh_token&&t.expires_in}var w_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class __{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Kp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Er})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=w_(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:v_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Er})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:y_});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);c[`${y}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Z(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Er})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Er})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Er})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}const b_={getItem:t=>Gs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Gs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Gs()&&globalThis.localStorage.removeItem(t)}};function Mf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function k_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sn={debug:!!(globalThis&&Gs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class j_ extends Gp{}async function N_(t,e,r){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new j_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}k_();const S_={url:$w,storageKey:Uw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $f(t,e,r){return await r()}class vi{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vi.nextInstanceID,vi.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},S_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new __({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kp(s.fetch),this.lock=s.lock||$f,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=N_:this.lock=$f,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gs()?this.storage=b_:(this.memoryStorage={},this.storage=Mf(this.memoryStorage)):(this.memoryStorage={},this.storage=Mf(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=e_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ww(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new Zp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:br}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Nn(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:br})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:br})}else throw new la("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Af})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Af})}else throw new la("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await ca(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:br});if(await da(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:br}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new pl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nn(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new la("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:br});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Nn(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:g_})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _r;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new la("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ml:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Er}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Er})})}catch(r){if(Z(r))return qw(r)&&(await this._removeSession(),await da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _r;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Nn(this.storage,this.storageKey));const{data:c,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Er});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _r;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=vl(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _r;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Bt())throw new ua("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ua(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ua("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cf("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new ua("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;u&&(h=parseInt(u));const v=h-d;v*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Hw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Xw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nn(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n_(async s=>(s>0&&await r_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(s,i)=>{const a=200*Math.pow(2,s);return i&&gl(i)&&Date.now()+a-n<En})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ca(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ml;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ml}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),gl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Io;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new _r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Z(i)){const a={session:null,error:i};return gl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Jp(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await da(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${En}ms, refresh threshold is ${Nu} ticks`),s<=Nu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vl(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Fw>Date.now()))return n;const{data:s,error:i}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Js("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Js("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=vl(n);if(c_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const c=d_(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,Jw(`${l}.${u}`)))throw new Js("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}vi.nextInstanceID=0;const T_=vi;class E_ extends T_{constructor(e){super(e)}}var C_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class P_{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Aw(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Tw,realtime:Cw,auth:Object.assign(Object.assign({},Ew),{storageKey:u}),global:Sw},d=Mw(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Rw(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Zx(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new jx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kw(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return C_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E_({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new uw(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O_=(t,e,r)=>new P_(t,e,r),D_="https://clcoyrkrqzehvjivjdub.supabase.co",R_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsY295cmtycXplaHZqaXZqZHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MjkyMDIsImV4cCI6MjA1OTIwNTIwMn0.q0ZXAjm9UuJbucm1xsAQDQ_SP1v84SsUd-8A8hhV4sA",F=O_(D_,R_),Xp=_.createContext(void 0),I_=["/","/login","/signup","/studios","/booking/success",/^\/studios\/[\w-]+$/,/^\/booking\/[\w-]+$/];function Eu(t){return I_.some(e=>typeof e=="string"?e===t:e.test(t))}function A_(){const{user:t,loading:e}=Lt(),r=Xt();return Ke(),e?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):!t&&!Eu(r.pathname)?o.jsx(Jy,{to:"/login",state:{from:r},replace:!0}):o.jsx(Gy,{})}function M_({children:t}){const[e,r]=_.useState(null),[n,s]=_.useState(!0),[i]=Ep(),a=Ke(),l=Xt(),[u,c]=_.useState(!1);_.useEffect(()=>{async function v(){try{localStorage.removeItem("supabase.auth.token"),sessionStorage.clear();const{data:{session:w},error:y}=await F.auth.getSession();if(y){console.error("Session error:",y),r(null),Eu(l.pathname)||a("/login",{state:{from:l},search:`?redirectTo=${encodeURIComponent(l.pathname)}`});return}if(r((w==null?void 0:w.user)??null),w!=null&&w.user&&(l.pathname==="/login"||l.pathname==="/signup")){const m=i.get("redirectTo");a(m||"/dashboard")}}catch(w){console.error("Auth initialization error:",w),r(null)}finally{s(!1),c(!0)}}v();const{data:{subscription:x}}=F.auth.onAuthStateChange((w,y)=>{if(r((y==null?void 0:y.user)??null),!(y!=null&&y.user)&&!Eu(l.pathname))a("/login",{state:{from:l},search:`?redirectTo=${encodeURIComponent(l.pathname)}`});else if(y!=null&&y.user&&(l.pathname==="/login"||l.pathname==="/signup")){const m=i.get("redirectTo");a(m||"/dashboard")}});return()=>x.unsubscribe()},[a,l,i]);const d=async(v,x)=>{try{const{error:w}=await F.auth.signInWithPassword({email:v,password:x});if(w)throw w}catch(w){throw console.error("Sign in error:",w),w}},f=async(v,x,w)=>{try{const{error:y}=await F.auth.signUp({email:v,password:x,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:w==null?void 0:w.data}});if(y)throw y}catch(y){throw console.error("Sign up error:",y),y}},h=async()=>{try{(()=>{try{localStorage.clear(),sessionStorage.clear(),Object.keys(localStorage).forEach(x=>{x.startsWith("sb-")&&localStorage.removeItem(x)})}catch(x){console.error("Error clearing storage:",x)}})(),await F.auth.signOut().catch(x=>{console.warn("Supabase sign out failed:",x)})}finally{r(null),a("/login",{replace:!0})}};return o.jsx(Xp.Provider,{value:{user:e,loading:n,signIn:d,signUp:f,signOut:h},children:t})}function Lt(){const t=_.useContext(Xp);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>_.createElement("svg",{ref:d,...$_,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${U_(t)}`,l].join(" "),...c},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ie("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ie("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ie("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function G_(){const{user:t,signOut:e}=Lt(),r=Ke(),[n,s]=ma.useState(null),[i,a]=ma.useState(!0);ma.useEffect(()=>{async function u(){if(!t){a(!1);return}try{const{data:c}=await F.from("profiles").select("avatar_url").eq("id",t.id).single();s(c==null?void 0:c.avatar_url)}catch(c){console.error("Error loading profile:",c)}finally{a(!1)}}u()},[t]);const l=async()=>{await e(),r("/")};return o.jsx("nav",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Le,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(yi,{className:"w-4 h-4 text-indigo-600"}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"StudioBase"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Le,{to:"/studios",className:"text-gray-600 hover:text-gray-900 p-2 rounded-md text-sm font-medium",children:o.jsx(Vc,{className:"w-5 h-5"})}),t?o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),o.jsx(Le,{to:"/profile",className:"text-gray-600 hover:text-gray-900 p-2 rounded-md text-sm font-medium flex items-center justify-center",children:i?o.jsx(q_,{className:"w-5 h-5 animate-spin"}):n?o.jsx("img",{src:n,alt:"Profile",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):o.jsx(sg,{className:"w-8 h-8 flex-shrink-0"})}),o.jsx("button",{onClick:l,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 p-2 rounded-md text-sm font-medium",children:o.jsx(Y_,{className:"w-5 h-5 text-gray-800"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/signup",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 mr-3",children:"Sign Up"}),o.jsx(Le,{to:"/login",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Log In"})]})]})]})})})}function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function Ze(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function je(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Be(t){je(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Uf(t,e){je(2,arguments);var r=Be(t),n=Ze(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function ig(t,e){je(2,arguments);var r=Be(t).getTime(),n=Ze(e);return new Date(r+n)}var X_=36e5;function e1(t,e){je(2,arguments);var r=Ze(e);return ig(t,r*X_)}var t1={};function bs(){return t1}function ag(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var r1=6e4,n1=36e5,s1=1e3;function i1(t){return je(1,arguments),t instanceof Date||gr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function a1(t){if(je(1,arguments),!i1(t)&&typeof t!="number")return!1;var e=Be(t);return!isNaN(Number(e))}function og(t,e){je(2,arguments);var r=Ze(e);return ig(t,-r)}var o1=864e5;function l1(t){je(1,arguments);var e=Be(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),s=r-n;return Math.floor(s/o1)+1}function cs(t){je(1,arguments);var e=1,r=Be(t),n=r.getUTCDay(),s=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function lg(t){je(1,arguments);var e=Be(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=cs(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var a=cs(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function u1(t){je(1,arguments);var e=lg(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=cs(r);return n}var c1=6048e5;function ug(t){je(1,arguments);var e=Be(t),r=cs(e).getTime()-u1(e).getTime();return Math.round(r/c1)+1}function gn(t,e){var r,n,s,i,a,l,u,c;je(1,arguments);var d=bs(),f=Ze((r=(n=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Be(t),v=h.getUTCDay(),x=(v<f?7:0)+v-f;return h.setUTCDate(h.getUTCDate()-x),h.setUTCHours(0,0,0,0),h}function Yc(t,e){var r,n,s,i,a,l,u,c;je(1,arguments);var d=Be(t),f=d.getUTCFullYear(),h=bs(),v=Ze((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,v),x.setUTCHours(0,0,0,0);var w=gn(x,e),y=new Date(0);y.setUTCFullYear(f,0,v),y.setUTCHours(0,0,0,0);var m=gn(y,e);return d.getTime()>=w.getTime()?f+1:d.getTime()>=m.getTime()?f:f-1}function d1(t,e){var r,n,s,i,a,l,u,c;je(1,arguments);var d=bs(),f=Ze((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Yc(t,e),v=new Date(0);v.setUTCFullYear(h,0,f),v.setUTCHours(0,0,0,0);var x=gn(v,e);return x}var f1=6048e5;function cg(t,e){je(1,arguments);var r=Be(t),n=gn(r,e).getTime()-d1(r,e).getTime();return Math.round(n/f1)+1}function le(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var wr={y:function(e,r){var n=e.getUTCFullYear(),s=n>0?n:1-n;return le(r==="yy"?s%100:s,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):le(n+1,2)},d:function(e,r){return le(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return le(e.getUTCHours()%12||12,r.length)},H:function(e,r){return le(e.getUTCHours(),r.length)},m:function(e,r){return le(e.getUTCMinutes(),r.length)},s:function(e,r){return le(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return le(i,r.length)}},Tn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h1={G:function(e,r,n){var s=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return wr.y(e,r)},Y:function(e,r,n,s){var i=Yc(e,s),a=i>0?i:1-i;if(r==="YY"){var l=a%100;return le(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):le(a,r.length)},R:function(e,r){var n=lg(e);return le(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return le(n,r.length)},Q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return le(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return le(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){var s=e.getUTCMonth();switch(r){case"M":case"MM":return wr.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){var s=e.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return le(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){var i=cg(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):le(i,r.length)},I:function(e,r,n){var s=ug(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):le(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wr.d(e,r)},D:function(e,r,n){var s=l1(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):le(s,r.length)},E:function(e,r,n){var s=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return le(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return le(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var s=e.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return le(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var s=e.getUTCHours(),i;switch(s===12?i=Tn.noon:s===0?i=Tn.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var s=e.getUTCHours(),i;switch(s>=17?i=Tn.evening:s>=12?i=Tn.afternoon:s>=4?i=Tn.morning:i=Tn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return wr.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wr.H(e,r)},K:function(e,r,n){var s=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):le(s,r.length)},k:function(e,r,n){var s=e.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):le(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wr.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wr.s(e,r)},S:function(e,r){return wr.S(e,r)},X:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return zf(a);case"XXXX":case"XX":return rn(a);case"XXXXX":case"XXX":default:return rn(a,":")}},x:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"x":return zf(a);case"xxxx":case"xx":return rn(a);case"xxxxx":case"xxx":default:return rn(a,":")}},O:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Lf(a,":");case"OOOO":default:return"GMT"+rn(a,":")}},z:function(e,r,n,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Lf(a,":");case"zzzz":default:return"GMT"+rn(a,":")}},t:function(e,r,n,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return le(a,r.length)},T:function(e,r,n,s){var i=s._originalDate||e,a=i.getTime();return le(a,r.length)}};function Lf(t,e){var r=t>0?"-":"+",n=Math.abs(t),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var a=e;return r+String(s)+a+le(i,2)}function zf(t,e){if(t%60===0){var r=t>0?"-":"+";return r+le(Math.abs(t)/60,2)}return rn(t,e)}function rn(t,e){var r=e||"",n=t>0?"-":"+",s=Math.abs(t),i=le(Math.floor(s/60),2),a=le(s%60,2);return n+i+r+a}var Ff=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},dg=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},m1=function(e,r){var n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Ff(e,r);var a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Ff(s,r)).replace("{{time}}",dg(i,r))},Cu={p:dg,P:m1},p1=["D","DD"],g1=["YY","YYYY"];function fg(t){return p1.indexOf(t)!==-1}function hg(t){return g1.indexOf(t)!==-1}function Xa(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var v1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y1=function(e,r,n){var s,i=v1[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function yl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var x1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b1={date:yl({formats:x1,defaultWidth:"full"}),time:yl({formats:w1,defaultWidth:"full"}),dateTime:yl({formats:_1,defaultWidth:"full"})},k1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j1=function(e,r,n,s){return k1[e]};function Ds(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var l=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[u]||t.values[l]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var N1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O1=function(e,r){var n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D1={ordinalNumber:O1,era:Ds({values:N1,defaultWidth:"wide"}),quarter:Ds({values:S1,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ds({values:T1,defaultWidth:"wide"}),day:Ds({values:E1,defaultWidth:"wide"}),dayPeriod:Ds({values:C1,defaultWidth:"wide",formattingValues:P1,defaultFormattingWidth:"wide"})};function Rs(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?I1(l,function(f){return f.test(a)}):R1(l,function(f){return f.test(a)}),c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;var d=e.slice(a.length);return{value:c,rest:d}}}function R1(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function I1(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function A1(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var s=n[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var l=e.slice(s.length);return{value:a,rest:l}}}var M1=/^(\d+)(th|st|nd|rd)?/i,$1=/\d+/i,U1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L1={any:[/^b/i,/^(a|c)/i]},z1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F1={any:[/1/i,/2/i,/3/i,/4/i]},B1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z1={ordinalNumber:A1({matchPattern:M1,parsePattern:$1,valueCallback:function(e){return parseInt(e,10)}}),era:Rs({matchPatterns:U1,defaultMatchWidth:"wide",parsePatterns:L1,defaultParseWidth:"any"}),quarter:Rs({matchPatterns:z1,defaultMatchWidth:"wide",parsePatterns:F1,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Rs({matchPatterns:B1,defaultMatchWidth:"wide",parsePatterns:H1,defaultParseWidth:"any"}),day:Rs({matchPatterns:q1,defaultMatchWidth:"wide",parsePatterns:W1,defaultParseWidth:"any"}),dayPeriod:Rs({matchPatterns:V1,defaultMatchWidth:"any",parsePatterns:Y1,defaultParseWidth:"any"})},mg={code:"en-US",formatDistance:y1,formatLong:b1,formatRelative:j1,localize:D1,match:Z1,options:{weekStartsOn:0,firstWeekContainsDate:1}},Q1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J1=/^'([^]*?)'?$/,G1=/''/g,X1=/[a-zA-Z]/;function zr(t,e,r){var n,s,i,a,l,u,c,d,f,h,v,x,w,y;je(2,arguments);var m=String(e),p=bs(),g=(n=(s=void 0)!==null&&s!==void 0?s:p.locale)!==null&&n!==void 0?n:mg,b=Ze((i=(a=(l=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&l!==void 0?l:p.firstWeekContainsDate)!==null&&a!==void 0?a:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Ze((f=(h=(v=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&v!==void 0?v:p.weekStartsOn)!==null&&h!==void 0?h:(w=p.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");var j=Be(t);if(!a1(j))throw new RangeError("Invalid time value");var N=ag(j),T=og(j,N),P={firstWeekContainsDate:b,weekStartsOn:k,locale:g,_originalDate:j},S=m.match(K1).map(function(E){var A=E[0];if(A==="p"||A==="P"){var V=Cu[A];return V(E,g.formatLong)}return E}).join("").match(Q1).map(function(E){if(E==="''")return"'";var A=E[0];if(A==="'")return eb(E);var V=h1[A];if(V)return hg(E)&&Xa(E,e,String(t)),fg(E)&&Xa(E,e,String(t)),V(T,E,g.localize,P);if(A.match(X1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return E}).join("");return S}function eb(t){var e=t.match(J1);return e?e[1].replace(G1,"'"):t}function tb(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Bf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rb(t,e){if(t){if(typeof t=="string")return Bf(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bf(t,e):void 0}}function Hf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=rb(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function $(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pu(t,e){return Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pu(t,e)}function ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pu(t,e)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eo(t)}function pg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pg=function(){return!!t})()}function nb(t,e){if(e&&(gr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(t)}function se(t){var e=pg();return function(){var r,n=eo(t);if(e){var s=eo(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return nb(this,r)}}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(t,e){if(gr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gg(t){var e=sb(t,"string");return gr(e)=="symbol"?e:e+""}function ib(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gg(n.key),n)}}function X(t,e,r){return e&&ib(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I(t,e,r){return(e=gg(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ab=10,vg=function(){function t(){G(this,t),I(this,"priority",void 0),I(this,"subPriority",0)}return X(t,[{key:"validate",value:function(r,n){return!0}}]),t}(),ob=function(t){ne(r,t);var e=se(r);function r(n,s,i,a,l){var u;return G(this,r),u=e.call(this),u.value=n,u.validateValue=s,u.setValue=i,u.priority=a,l&&(u.subPriority=l),u}return X(r,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),r}(vg),lb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",ab),I($(n),"subPriority",-1),n}return X(r,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),r}(vg),ae=function(){function t(){G(this,t),I(this,"incompatibleTokens",void 0),I(this,"priority",void 0),I(this,"subPriority",void 0)}return X(t,[{key:"run",value:function(r,n,s,i){var a=this.parse(r,n,s,i);return a?{setter:new ob(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(r,n,s){return!0}}]),t}(),ub=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",140),I($(n),"incompatibleTokens",["R","u","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),Te={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ee(t,e){return t&&{value:e(t.value),rest:t.rest}}function xe(t,e){var r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Vt(t,e){var r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};var n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(s*n1+i*r1+a*s1),rest:e.slice(r[0].length)}}function yg(t){return xe(Te.anyDigitsSigned,t)}function ke(t,e){switch(t){case 1:return xe(Te.singleDigit,e);case 2:return xe(Te.twoDigits,e);case 3:return xe(Te.threeDigits,e);case 4:return xe(Te.fourDigits,e);default:return xe(new RegExp("^\\d{1,"+t+"}"),e)}}function to(t,e){switch(t){case 1:return xe(Te.singleDigitSigned,e);case 2:return xe(Te.twoDigitsSigned,e);case 3:return xe(Te.threeDigitsSigned,e);case 4:return xe(Te.fourDigitsSigned,e);default:return xe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Zc(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xg(t,e){var r=e>0,n=r?e:1-e,s;if(n<=50)s=t||100;else{var i=n+50,a=Math.floor(i/100)*100,l=t>=i%100;s=t+a-(l?100:0)}return r?s:1-s}function wg(t){return t%400===0||t%4===0&&t%100!==0}var cb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",130),I($(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){var l=function(c){return{year:c,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Ee(ke(4,s),l);case"yo":return Ee(a.ordinalNumber(s,{unit:"year"}),l);default:return Ee(ke(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var l=s.getUTCFullYear();if(a.isTwoDigitYear){var u=xg(a.year,l);return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}var c=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),db=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",130),I($(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){var l=function(c){return{year:c,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Ee(ke(4,s),l);case"Yo":return Ee(a.ordinalNumber(s,{unit:"year"}),l);default:return Ee(ke(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,l){var u=Yc(s,l);if(a.isTwoDigitYear){var c=xg(a.year,u);return s.setUTCFullYear(c,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),gn(s,l)}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),gn(s,l)}}]),r}(ae),fb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",130),I($(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i){return to(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),cs(l)}}]),r}(ae),hb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",130),I($(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i){return to(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),mb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",120),I($(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return ke(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),pb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",120),I($(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return ke(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),gb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),I($(n),"priority",110),n}return X(r,[{key:"parse",value:function(s,i,a){var l=function(c){return c-1};switch(i){case"M":return Ee(xe(Te.month,s),l);case"MM":return Ee(ke(2,s),l);case"Mo":return Ee(a.ordinalNumber(s,{unit:"month"}),l);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae),vb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",110),I($(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){var l=function(c){return c-1};switch(i){case"L":return Ee(xe(Te.month,s),l);case"LL":return Ee(ke(2,s),l);case"Lo":return Ee(a.ordinalNumber(s,{unit:"month"}),l);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),r}(ae);function yb(t,e,r){je(2,arguments);var n=Be(t),s=Ze(e),i=cg(n,r)-s;return n.setUTCDate(n.getUTCDate()-i*7),n}var xb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",100),I($(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"w":return xe(Te.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,l){return gn(yb(s,a,l),l)}}]),r}(ae);function wb(t,e){je(2,arguments);var r=Be(t),n=Ze(e),s=ug(r)-n;return r.setUTCDate(r.getUTCDate()-s*7),r}var _b=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",100),I($(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"I":return xe(Te.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return cs(wb(s,a))}}]),r}(ae),bb=[31,28,31,30,31,30,31,31,30,31,30,31],kb=[31,29,31,30,31,30,31,31,30,31,30,31],jb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"subPriority",1),I($(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"d":return xe(Te.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=wg(a),u=s.getUTCMonth();return l?i>=1&&i<=kb[u]:i>=1&&i<=bb[u]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),r}(ae),Nb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"subpriority",1),I($(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return xe(Te.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=wg(a);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),r}(ae);function Qc(t,e,r){var n,s,i,a,l,u,c,d;je(2,arguments);var f=bs(),h=Ze((n=(s=(i=(a=r==null?void 0:r.weekStartsOn)!==null&&a!==void 0?a:r==null||(l=r.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&s!==void 0?s:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Be(t),x=Ze(e),w=v.getUTCDay(),y=x%7,m=(y+7)%7,p=(m<h?7:0)+x-w;return v.setUTCDate(v.getUTCDate()+p),v}var Sb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Qc(s,a,l),s.setUTCHours(0,0,0,0),s}}]),r}(ae),Tb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a,l){var u=function(d){var f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Ee(ke(i.length,s),u);case"eo":return Ee(a.ordinalNumber(s,{unit:"day"}),u);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Qc(s,a,l),s.setUTCHours(0,0,0,0),s}}]),r}(ae),Eb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a,l){var u=function(d){var f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Ee(ke(i.length,s),u);case"co":return Ee(a.ordinalNumber(s,{unit:"day"}),u);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Qc(s,a,l),s.setUTCHours(0,0,0,0),s}}]),r}(ae);function Cb(t,e){je(2,arguments);var r=Ze(e);r%7===0&&(r=r-7);var n=1,s=Be(t),i=s.getUTCDay(),a=r%7,l=(a+7)%7,u=(l<n?7:0)+r-i;return s.setUTCDate(s.getUTCDate()+u),s}var Pb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",90),I($(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){var l=function(c){return c===0?7:c};switch(i){case"i":case"ii":return ke(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return Ee(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return Ee(a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Ee(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Ee(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=Cb(s,a),s.setUTCHours(0,0,0,0),s}}]),r}(ae),Ob=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",80),I($(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Zc(a),0,0,0),s}}]),r}(ae),Db=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",80),I($(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Zc(a),0,0,0),s}}]),r}(ae),Rb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",80),I($(n),"incompatibleTokens",["a","b","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Zc(a),0,0,0),s}}]),r}(ae),Ib=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",70),I($(n),"incompatibleTokens",["H","K","k","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"h":return xe(Te.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):!l&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),r}(ae),Ab=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",70),I($(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"H":return xe(Te.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),r}(ae),Mb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",70),I($(n),"incompatibleTokens",["h","H","k","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"K":return xe(Te.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),r}(ae),$b=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",70),I($(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"k":return xe(Te.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var l=a<=24?a%24:a;return s.setUTCHours(l,0,0,0),s}}]),r}(ae),Ub=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",60),I($(n),"incompatibleTokens",["t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"m":return xe(Te.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),r}(ae),Lb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",50),I($(n),"incompatibleTokens",["t","T"]),n}return X(r,[{key:"parse",value:function(s,i,a){switch(i){case"s":return xe(Te.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return ke(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),r}(ae),zb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",30),I($(n),"incompatibleTokens",["t","T"]),n}return X(r,[{key:"parse",value:function(s,i){var a=function(u){return Math.floor(u*Math.pow(10,-i.length+3))};return Ee(ke(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),r}(ae),Fb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",10),I($(n),"incompatibleTokens",["t","T","x"]),n}return X(r,[{key:"parse",value:function(s,i){switch(i){case"X":return Vt(Wt.basicOptionalMinutes,s);case"XX":return Vt(Wt.basic,s);case"XXXX":return Vt(Wt.basicOptionalSeconds,s);case"XXXXX":return Vt(Wt.extendedOptionalSeconds,s);case"XXX":default:return Vt(Wt.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),r}(ae),Bb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",10),I($(n),"incompatibleTokens",["t","T","X"]),n}return X(r,[{key:"parse",value:function(s,i){switch(i){case"x":return Vt(Wt.basicOptionalMinutes,s);case"xx":return Vt(Wt.basic,s);case"xxxx":return Vt(Wt.basicOptionalSeconds,s);case"xxxxx":return Vt(Wt.extendedOptionalSeconds,s);case"xxx":default:return Vt(Wt.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),r}(ae),Hb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",40),I($(n),"incompatibleTokens","*"),n}return X(r,[{key:"parse",value:function(s){return yg(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),r}(ae),qb=function(t){ne(r,t);var e=se(r);function r(){var n;G(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i)),I($(n),"priority",20),I($(n),"incompatibleTokens","*"),n}return X(r,[{key:"parse",value:function(s){return yg(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),r}(ae),Wb={G:new ub,y:new cb,Y:new db,R:new fb,u:new hb,Q:new mb,q:new pb,M:new gb,L:new vb,w:new xb,I:new _b,d:new jb,D:new Nb,E:new Sb,e:new Tb,c:new Eb,i:new Pb,a:new Ob,b:new Db,B:new Rb,h:new Ib,H:new Ab,K:new Mb,k:new $b,m:new Ub,s:new Lb,S:new zb,X:new Fb,x:new Bb,t:new Hb,T:new qb},Vb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zb=/^'([^]*?)'?$/,Qb=/''/g,Kb=/\S/,Jb=/[a-zA-Z]/;function _g(t,e,r,n){var s,i,a,l,u,c,d,f,h,v,x,w,y,m;je(3,arguments);var p=String(t),g=String(e),b=bs(),k=(s=(i=void 0)!==null&&i!==void 0?i:b.locale)!==null&&s!==void 0?s:mg;if(!k.match)throw new RangeError("locale must contain match property");var j=Ze((a=(l=(u=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&u!==void 0?u:b.firstWeekContainsDate)!==null&&l!==void 0?l:(d=b.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ze((h=(v=(x=(w=void 0)!==null&&w!==void 0?w:void 0)!==null&&x!==void 0?x:b.weekStartsOn)!==null&&v!==void 0?v:(y=b.locale)===null||y===void 0||(m=y.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&h!==void 0?h:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(g==="")return p===""?Be(r):new Date(NaN);var T={firstWeekContainsDate:j,weekStartsOn:N,locale:k},P=[new lb],S=g.match(Yb).map(function(ce){var oe=ce[0];if(oe in Cu){var Ce=Cu[oe];return Ce(ce,k.formatLong)}return ce}).join("").match(Vb),E=[],A=Hf(S),V;try{var ee=function(){var oe=V.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&hg(oe)&&Xa(oe,g,t),!(n!=null&&n.useAdditionalDayOfYearTokens)&&fg(oe)&&Xa(oe,g,t);var Ce=oe[0],rr=Wb[Ce];if(rr){var Xc=rr.incompatibleTokens;if(Array.isArray(Xc)){var ed=E.find(function(td){return Xc.includes(td.token)||td.token===Ce});if(ed)throw new RangeError("The format string mustn't contain `".concat(ed.fullToken,"` and `").concat(oe,"` at the same time"))}else if(rr.incompatibleTokens==="*"&&E.length>0)throw new RangeError("The format string mustn't contain `".concat(oe,"` and any other token at the same time"));E.push({token:Ce,fullToken:oe});var Uo=rr.run(p,oe,k.match,T);if(!Uo)return{v:new Date(NaN)};P.push(Uo.setter),p=Uo.rest}else{if(Ce.match(Jb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ce+"`");if(oe==="''"?oe="'":Ce==="'"&&(oe=Gb(oe)),p.indexOf(oe)===0)p=p.slice(oe.length);else return{v:new Date(NaN)}}};for(A.s();!(V=A.n()).done;){var He=ee();if(gr(He)==="object")return He.v}}catch(ce){A.e(ce)}finally{A.f()}if(p.length>0&&Kb.test(p))return new Date(NaN);var St=P.map(function(ce){return ce.priority}).sort(function(ce,oe){return oe-ce}).filter(function(ce,oe,Ce){return Ce.indexOf(ce)===oe}).map(function(ce){return P.filter(function(oe){return oe.priority===ce}).sort(function(oe,Ce){return Ce.subPriority-oe.subPriority})}).map(function(ce){return ce[0]}),zt=Be(r);if(isNaN(zt.getTime()))return new Date(NaN);var D=og(zt,ag(zt)),q={},W=Hf(St),pe;try{for(W.s();!(pe=W.n()).done;){var Ne=pe.value;if(!Ne.validate(D,T))return new Date(NaN);var tr=Ne.set(D,q,T);Array.isArray(tr)?(D=tr[0],tb(q,tr[1])):D=tr}}catch(ce){W.e(ce)}finally{W.f()}return D}function Gb(t){return t.match(Zb)[1].replace(Qb,"'")}var bg={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(bg);var Xb=bg.exports,Ou={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=e.default})(Ou,Ou.exports);var ek=Ou.exports;const tk=uo(ek);var Du={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=e.default})(Du,Du.exports);var rk=Du.exports;const qf=uo(rk);function nk(t,e){var r=ok(e);return r.formatToParts?ik(r,t):ak(r,t)}var sk={year:0,month:1,day:2,hour:3,minute:4,second:5};function ik(t,e){try{for(var r=t.formatToParts(e),n=[],s=0;s<r.length;s++){var i=sk[r[s].type];i>=0&&(n[i]=parseInt(r[s].value,10))}return n}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function ak(t,e){var r=t.format(e),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var xl={};function ok(t){if(!xl[t]){var e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";xl[t]=r?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return xl[t]}function Kc(t,e,r,n,s,i,a){var l=new Date(0);return l.setUTCFullYear(t,e,r),l.setUTCHours(n,s,i,a),l}var Wf=36e5,lk=6e4,wl={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Jc(t,e,r){var n,s;if(!t||(n=wl.timezoneZ.exec(t),n))return 0;var i;if(n=wl.timezoneHH.exec(t),n)return i=parseInt(n[1],10),Vf(i)?-(i*Wf):NaN;if(n=wl.timezoneHHMM.exec(t),n){i=parseInt(n[2],10);var a=parseInt(n[3],10);return Vf(i,a)?(s=Math.abs(i)*Wf+a*lk,n[1]==="+"?-s:s):NaN}if(dk(t)){e=new Date(e||Date.now());var l=r?e:uk(e),u=Ru(l,t),c=r?u:ck(e,u,t);return-c}return NaN}function uk(t){return Kc(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Ru(t,e){var r=nk(t,e),n=Kc(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),s=t.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,n-s}function ck(t,e,r){var n=t.getTime(),s=n-e,i=Ru(new Date(s),r);if(e===i)return e;s-=i-e;var a=Ru(new Date(s),r);return i===a?i:Math.max(i,a)}function Vf(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var Yf={};function dk(t){if(Yf[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Yf[t]=!0,!0}catch{return!1}}var kg=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,_l=36e5,Zf=6e4,fk=2,Ge={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:kg};function Iu(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=e||{},n=r.additionalDigits==null?fk:tk(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=hk(t),i=mk(s.date,n),a=i.year,l=i.restDateString,u=pk(l,a);if(isNaN(u))return new Date(NaN);if(u){var c=u.getTime(),d=0,f;if(s.time&&(d=gk(s.time),isNaN(d)))return new Date(NaN);if(s.timeZone||r.timeZone){if(f=Jc(s.timeZone||r.timeZone,new Date(c+d)),isNaN(f))return new Date(NaN)}else f=qf(new Date(c+d)),f=qf(new Date(c+d+f));return new Date(c+d+f)}else return new Date(NaN)}function hk(t){var e={},r=Ge.dateTimePattern.exec(t),n;if(r?(e.date=r[1],n=r[3]):(r=Ge.datePattern.exec(t),r?(e.date=r[1],n=r[2]):(e.date=null,n=t)),n){var s=Ge.timeZone.exec(n);s?(e.time=n.replace(s[1],""),e.timeZone=s[1].trim()):e.time=n}return e}function mk(t,e){var r=Ge.YYY[e],n=Ge.YYYYY[e],s;if(s=Ge.YYYY.exec(t)||n.exec(t),s){var i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=Ge.YY.exec(t)||r.exec(t),s){var a=s[1];return{year:parseInt(a,10)*100,restDateString:t.slice(a.length)}}return{year:null}}function pk(t,e){if(e===null)return null;var r,n,s,i;if(t.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(r=Ge.MM.exec(t),r)return n=new Date(0),s=parseInt(r[1],10)-1,Kf(e,s)?(n.setUTCFullYear(e,s),n):new Date(NaN);if(r=Ge.DDD.exec(t),r){n=new Date(0);var a=parseInt(r[1],10);return xk(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(r=Ge.MMDD.exec(t),r){n=new Date(0),s=parseInt(r[1],10)-1;var l=parseInt(r[2],10);return Kf(e,s,l)?(n.setUTCFullYear(e,s,l),n):new Date(NaN)}if(r=Ge.Www.exec(t),r)return i=parseInt(r[1],10)-1,Jf(e,i)?Qf(e,i):new Date(NaN);if(r=Ge.WwwD.exec(t),r){i=parseInt(r[1],10)-1;var u=parseInt(r[2],10)-1;return Jf(e,i,u)?Qf(e,i,u):new Date(NaN)}return null}function gk(t){var e,r,n;if(e=Ge.HH.exec(t),e)return r=parseFloat(e[1].replace(",",".")),bl(r)?r%24*_l:NaN;if(e=Ge.HHMM.exec(t),e)return r=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),bl(r,n)?r%24*_l+n*Zf:NaN;if(e=Ge.HHMMSS.exec(t),e){r=parseInt(e[1],10),n=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return bl(r,n,s)?r%24*_l+n*Zf+s*1e3:NaN}return null}function Qf(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,i=e*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}var vk=[31,28,31,30,31,30,31,31,30,31,30,31],yk=[31,29,31,30,31,30,31,31,30,31,30,31];function jg(t){return t%400===0||t%4===0&&t%100!==0}function Kf(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;var n=jg(t);if(n&&r>yk[e]||!n&&r>vk[e])return!1}return!0}function xk(t,e){if(e<1)return!1;var r=jg(t);return!(r&&e>366||!r&&e>365)}function Jf(t,e,r){return!(e<0||e>52||r!=null&&(r<0||r>6))}function bl(t,e,r){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}var Au={exports:{}},Mu={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i]);return n}t.exports=e.default})(Mu,Mu.exports);var wk=Mu.exports;(function(t,e){var r=Xb.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(wk);function s(i){return(0,n.default)({},i)}t.exports=e.default})(Au,Au.exports);var _k=Au.exports;const bk=uo(_k);function kk(t,e,r){var n=Iu(t,r),s=Jc(e,n,!0),i=new Date(n.getTime()-s),a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}function jk(t,e,r){if(typeof t=="string"&&!t.match(kg)){var n=bk(r);return n.timeZone=e,Iu(t,n)}var s=Iu(t,r),i=Kc(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),a=Jc(e,new Date(i));return new Date(i+a)}function $t(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function wi(t){var e;try{return((e=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"long"}).formatToParts(new Date).find(r=>r.type==="timeZoneName"))==null?void 0:e.value)||t}catch(r){return console.error(`Error formatting timezone: ${t}`,r),t}}function Nk(t,e,r,n){try{const s=`${e}T${t}`,i=jk(s,r),a=kk(i,n);return zr(a,"HH:mm")}catch(s){return console.error("Error converting timezone:",s),t}}function $u(t){try{return zr(_g(t,"HH:mm",new Date),"h:mm a")}catch{return console.error("Invalid time slot format:",t),"Invalid time"}}function Sk(t,e,r,n){try{const s=Nk(t,e,r,n);return $u(s)}catch(s){return console.error("Error converting and formatting time slot:",s),$u(t)}}function Ng({studio:t}){var r,n,s;const e=Math.min(...t.rooms.map(i=>Number(i.hourly_rate)));return o.jsxs(Le,{to:`/studios/${t.id}`,className:"group bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(r=t.photos)!=null&&r[0]?o.jsx("img",{src:t.photos[0].replace(/\.(heic|heif)$/i,".jpg"),alt:t.name,className:"w-full h-full object-cover bg-gray-100",onError:i=>{const a=i.target;a.src.endsWith(".jpg")?(a.onerror=null,a.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zIDN2MThoMTgiLz48cGF0aCBkPSJNMjEgM3YxOEgzIi8+PC9zdmc+"):a.src=a.src.replace(/\.(heic|heif)$/i,".jpg")}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-12 h-12 text-gray-400"})})}),o.jsxs("div",{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors",children:t.name}),o.jsx("p",{className:"text-sm text-gray-500",children:(n=t.organization)==null?void 0:n.name})]}),((s=t.organization)==null?void 0:s.logo_url)&&o.jsx("img",{src:t.organization.logo_url,alt:t.organization.name,className:"w-8 h-8 rounded-full"})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Ao,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{children:[t.city,", ",t.state]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-gray-900",children:$t(e)}),o.jsx("span",{className:"text-gray-500",children:"/hour"})]}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(ng,{className:"w-4 h-4 text-yellow-400 mr-1"}),o.jsx("span",{className:"font-medium",children:"4.8"})]})]})]})]})}function Tk(){const[t,e]=_.useState([]),[r,n]=_.useState(!0);return _.useEffect(()=>{async function s(){const{data:i}=await F.from("studios").select(`
          *,
          organization:organizations(name, logo_url),
          rooms(
            id,
            name,
            hourly_rate,
            room_type:room_types(name)
          )
        `).limit(3).order("created_at",{ascending:!1});e(i||[]),n(!1)}s()},[]),o.jsxs("div",{className:"space-y-16",children:[o.jsxs("section",{className:"relative py-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-purple-500/5"}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"text-center space-y-8",children:[o.jsx("h1",{className:"text-5xl sm:text-6xl font-bold text-gray-900 tracking-tight",children:"Find Your Perfect Recording Space"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Book professional recording studios, mixing rooms, and podcast spaces. Your next hit starts here."}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx(Le,{to:"/studios",className:"inline-block bg-indigo-600 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-indigo-700 transition-colors",children:"Browse Studios"}),o.jsx(Le,{to:"/signup",className:"inline-block bg-white text-indigo-600 border-2 border-indigo-600 px-8 py-3 rounded-lg text-lg font-medium hover:bg-indigo-50 transition-colors",children:"List Your Studio"})]})]})})]}),o.jsx("section",{className:"bg-gradient-to-b from-gray-50 to-white py-16 -mx-4 px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12 space-y-4",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Featured Studios"}),o.jsx("p",{className:"text-gray-600",children:"Discover our latest and most popular recording spaces"})]}),r?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading studios..."})]}):t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ot,{className:"w-12 h-12 text-gray-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"No studios available yet"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(s=>o.jsx(Ng,{studio:s},s.id))})]})}),o.jsxs("section",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Vc,{className:"w-8 h-8 text-indigo-600"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Easy Search"}),o.jsx("p",{className:"text-gray-600",children:"Find the perfect studio based on location, type, and equipment"})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:o.jsx(er,{className:"w-8 h-8 text-indigo-600"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Real-time Availability"}),o.jsx("p",{className:"text-gray-600",children:"See instant availability and book your sessions with ease"})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:o.jsx(eg,{className:"w-8 h-8 text-indigo-600"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Secure Payments"}),o.jsx("p",{className:"text-gray-600",children:"Book with confidence using our secure payment system"})]})]})]})}function Ek(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(null);return _.useEffect(()=>{async function a(){try{const{data:l,error:u}=await F.from("studios").select(`
            *,
            organization:organizations(name, logo_url),
            rooms(
              id,
              name,
              hourly_rate,
              room_type:room_types(name)
            )
          `).order("name");if(u)throw u;e(l||[])}catch(l){i(l instanceof Error?l.message:"An error occurred")}finally{n(!1)}}a()},[]),{studios:t,loading:r,error:s}}function Ck({search:t,onSearchChange:e}){return o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search studios by name, location, or equipment...",value:t,onChange:r=>e(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),o.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.jsx(K_,{className:"w-5 h-5 mr-2"}),"Filters"]})]})}function Pk(){const[t,e]=_.useState(""),{studios:r,loading:n,error:s}=Ek(),i=r.filter(a=>{const l=t.toLowerCase();return a.name.toLowerCase().includes(l)||a.city.toLowerCase().includes(l)||a.state.toLowerCase().includes(l)||a.country.toLowerCase().includes(l)});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Recording Studios"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Find and book the perfect studio for your next session"})]}),o.jsx(Ck,{search:t,onSearchChange:e}),n?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading studios..."})]}):s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ot,{className:"w-12 h-12 text-gray-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-red-600",children:s})]}):i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ot,{className:"w-12 h-12 text-gray-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:t?"No studios found matching your search":"No studios available at the moment"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",i.length," studio",i.length===1?"":"s"]}),o.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:i.map(a=>o.jsx(Ng,{studio:a},a.id))})]})]})}async function Ok(t){var e;try{const r=t.name.split(".").pop(),{data:{session:n}}=await F.auth.getSession(),s=(e=n==null?void 0:n.user)==null?void 0:e.id;if(!s)throw new Error("No authenticated user found");const a=`${`${s}/${Math.random().toString(36).slice(2)}.${r}`}`,{error:l,data:u}=await F.storage.from("profile-photos").upload(a,t);if(l)throw l;const{data:{publicUrl:c}}=F.storage.from("profile-photos").getPublicUrl(a);return c}catch(r){throw console.error("Error uploading photo:",r),r}}async function Mo(t){try{const e=t.name.split(".").pop(),n=`studios/${`${Math.random().toString(36).slice(2)}.${e}`}`,{error:s,data:i}=await F.storage.from("studio-photos").upload(n,t);if(s)throw s;const{data:{publicUrl:a}}=F.storage.from("studio-photos").getPublicUrl(n);return a}catch(e){throw console.error("Error uploading photo:",e),e}}var te;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(te||(te={}));var Uu;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Uu||(Uu={}));const M=te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),or=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},C=te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dk=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return s(this),n}static assert(e){if(!(e instanceof pt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pt.create=t=>new pt(t);const ds=(t,e)=>{let r;switch(t.code){case C.invalid_type:t.received===M.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case C.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,te.jsonStringifyReplacer)}`;break;case C.unrecognized_keys:r=`Unrecognized key(s) in object: ${te.joinValues(t.keys,", ")}`;break;case C.invalid_union:r="Invalid input";break;case C.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${te.joinValues(t.options)}`;break;case C.invalid_enum_value:r=`Invalid enum value. Expected ${te.joinValues(t.options)}, received '${t.received}'`;break;case C.invalid_arguments:r="Invalid function arguments";break;case C.invalid_return_type:r="Invalid function return type";break;case C.invalid_date:r="Invalid date";break;case C.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:te.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case C.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case C.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case C.custom:r="Invalid input";break;case C.invalid_intersection_types:r="Intersection results could not be merged";break;case C.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case C.not_finite:r="Number must be finite";break;default:r=e.defaultError,te.assertNever(t)}return{message:r}};let Sg=ds;function Rk(t){Sg=t}function ro(){return Sg}const no=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)l=c(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},Ik=[];function R(t,e){const r=ro(),n=no({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ds?void 0:ds].filter(s=>!!s)});t.common.issues.push(n)}class Qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return H;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Qe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return H;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const H=Object.freeze({status:"aborted"}),qn=t=>({status:"dirty",value:t}),et=t=>({status:"valid",value:t}),Lu=t=>t.status==="aborted",zu=t=>t.status==="dirty",vn=t=>t.status==="valid",_i=t=>typeof Promise<"u"&&t instanceof Promise;function so(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Tg(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var z;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(z||(z={}));var Ls,zs;class Kt{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gf=(t,e)=>{if(vn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pt(t.common.issues);return this._error=r,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{var u,c;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}},description:s}}class Q{get description(){return this._def.description}_getType(e){return or(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:or(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qe,ctx:{common:e.parent.common,data:e.data,parsedType:or(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(_i(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:or(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Gf(s,i)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:or(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return vn(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>vn(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:or(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(_i(s)?s:Promise.resolve(s));return Gf(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:C.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ut({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Qt.create(this,this._def)}nullable(){return Vr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return At.create(this)}promise(){return hs.create(this,this._def)}or(e){return Ni.create([this,e],this._def)}and(e){return Si.create(this,e,this._def)}transform(e){return new Ut({...Y(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Oi({...Y(this._def),innerType:this,defaultValue:r,typeName:B.ZodDefault})}brand(){return new Gc({typeName:B.ZodBranded,type:this,...Y(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Di({...Y(this._def),innerType:this,catchValue:r,typeName:B.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return qi.create(this,e)}readonly(){return Ri.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ak=/^c[^\s-]{8,}$/i,Mk=/^[0-9a-z]+$/,$k=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Uk=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lk=/^[a-z0-9_-]{21}$/i,zk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fk=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kl;const qk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Zk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Eg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kk=new RegExp(`^${Eg}$`);function Cg(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Jk(t){return new RegExp(`^${Cg(t)}$`)}function Pg(t){let e=`${Eg}T${Cg(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Gk(t,e){return!!((e==="v4"||!e)&&qk.test(t)||(e==="v6"||!e)&&Vk.test(t))}function Xk(t,e){if(!zk.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function ej(t,e){return!!((e==="v4"||!e)&&Wk.test(t)||(e==="v6"||!e)&&Yk.test(t))}class Dt extends Q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){const i=this._getOrReturnCtx(e);return R(i,{code:C.invalid_type,expected:M.string,received:i.parsedType}),H}const n=new Qe;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),R(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),R(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?R(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&R(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Bk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"email",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")kl||(kl=new RegExp(Hk,"u")),kl.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"emoji",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Uk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"uuid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Lk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"nanoid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ak.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"cuid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Mk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"cuid2",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")$k.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"ulid",code:C.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),R(s,{validation:"url",code:C.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"regex",code:C.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Pg(i).test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Kk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Jk(i).test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{code:C.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Fk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"duration",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Gk(e.data,i.version)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"ip",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Xk(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"jwt",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?ej(e.data,i.version)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"cidr",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Zk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"base64",code:C.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Qk.test(e.data)||(s=this._getOrReturnCtx(e,s),R(s,{validation:"base64url",code:C.invalid_string,message:i.message}),n.dirty()):te.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:C.invalid_string,...z.errToObj(n)})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...z.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...z.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...z.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...z.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...z.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...z.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...z.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...z.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...z.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...z.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...z.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...z.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...z.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...z.errToObj(r)})}nonempty(e){return this.min(1,z.errToObj(e))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Dt.create=t=>{var e;return new Dt({checks:[],typeName:B.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};function tj(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Hr extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){const i=this._getOrReturnCtx(e);return R(i,{code:C.invalid_type,expected:M.number,received:i.parsedType}),H}let n;const s=new Qe;for(const i of this._def.checks)i.kind==="int"?te.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),R(n,{code:C.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?tj(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),R(n,{code:C.not_finite,message:i.message}),s.dirty()):te.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,z.toString(r))}setLimit(e,r,n,s){return new Hr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:z.toString(s)}]})}_addCheck(e){return new Hr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:z.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&te.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Hr.create=t=>new Hr({checks:[],typeName:B.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class qr extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==M.bigint)return this._getInvalidInput(e);let n;const s=new Qe;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),R(n,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):te.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return R(r,{code:C.invalid_type,expected:M.bigint,received:r.parsedType}),H}gte(e,r){return this.setLimit("min",e,!0,z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,z.toString(r))}setLimit(e,r,n,s){return new qr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:z.toString(s)}]})}_addCheck(e){return new qr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}qr.create=t=>{var e;return new qr({checks:[],typeName:B.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};class bi extends Q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.boolean,received:n.parsedType}),H}return et(e.data)}}bi.create=t=>new bi({typeName:B.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class yn extends Q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){const i=this._getOrReturnCtx(e);return R(i,{code:C.invalid_type,expected:M.date,received:i.parsedType}),H}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return R(i,{code:C.invalid_date}),H}const n=new Qe;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),R(s,{code:C.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),R(s,{code:C.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):te.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:z.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:z.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}yn.create=t=>new yn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:B.ZodDate,...Y(t)});class io extends Q{_parse(e){if(this._getType(e)!==M.symbol){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.symbol,received:n.parsedType}),H}return et(e.data)}}io.create=t=>new io({typeName:B.ZodSymbol,...Y(t)});class ki extends Q{_parse(e){if(this._getType(e)!==M.undefined){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.undefined,received:n.parsedType}),H}return et(e.data)}}ki.create=t=>new ki({typeName:B.ZodUndefined,...Y(t)});class ji extends Q{_parse(e){if(this._getType(e)!==M.null){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.null,received:n.parsedType}),H}return et(e.data)}}ji.create=t=>new ji({typeName:B.ZodNull,...Y(t)});class fs extends Q{constructor(){super(...arguments),this._any=!0}_parse(e){return et(e.data)}}fs.create=t=>new fs({typeName:B.ZodAny,...Y(t)});class cn extends Q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return et(e.data)}}cn.create=t=>new cn({typeName:B.ZodUnknown,...Y(t)});class vr extends Q{_parse(e){const r=this._getOrReturnCtx(e);return R(r,{code:C.invalid_type,expected:M.never,received:r.parsedType}),H}}vr.create=t=>new vr({typeName:B.ZodNever,...Y(t)});class ao extends Q{_parse(e){if(this._getType(e)!==M.undefined){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.void,received:n.parsedType}),H}return et(e.data)}}ao.create=t=>new ao({typeName:B.ZodVoid,...Y(t)});class At extends Q{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==M.array)return R(r,{code:C.invalid_type,expected:M.array,received:r.parsedType}),H;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(R(r,{code:a?C.too_big:C.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(R(r,{code:C.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(R(r,{code:C.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new Kt(r,a,r.path,l)))).then(a=>Qe.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new Kt(r,a,r.path,l)));return Qe.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new At({...this._def,minLength:{value:e,message:z.toString(r)}})}max(e,r){return new At({...this._def,maxLength:{value:e,message:z.toString(r)}})}length(e,r){return new At({...this._def,exactLength:{value:e,message:z.toString(r)}})}nonempty(e){return this.min(1,e)}}At.create=(t,e)=>new At({type:t,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...Y(e)});function Cn(t){if(t instanceof ve){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Qt.create(Cn(n))}return new ve({...t._def,shape:()=>e})}else return t instanceof At?new At({...t._def,type:Cn(t.element)}):t instanceof Qt?Qt.create(Cn(t.unwrap())):t instanceof Vr?Vr.create(Cn(t.unwrap())):t instanceof Jt?Jt.create(t.items.map(e=>Cn(e))):t}class ve extends Q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=te.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==M.object){const c=this._getOrReturnCtx(e);return R(c,{code:C.invalid_type,expected:M.object,received:c.parsedType}),H}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof vr&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||l.push(c);const u=[];for(const c of a){const d=i[c],f=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new Kt(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof vr){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of l)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")l.length>0&&(R(s,{code:C.unrecognized_keys,keys:l}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of l){const f=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new Kt(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Qe.mergeObjectSync(n,c)):Qe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return z.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,l;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=z.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const r={};return te.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ve({...this._def,shape:()=>r})}omit(e){const r={};return te.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new ve({...this._def,shape:()=>r})}deepPartial(){return Cn(this)}partial(e){const r={};return te.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new ve({...this._def,shape:()=>r})}required(e){const r={};return te.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Qt;)i=i._def.innerType;r[n]=i}}),new ve({...this._def,shape:()=>r})}keyof(){return Og(te.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:vr.create(),typeName:B.ZodObject,...Y(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:vr.create(),typeName:B.ZodObject,...Y(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:vr.create(),typeName:B.ZodObject,...Y(e)});class Ni extends Q{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new pt(l.ctx.common.issues));return R(r,{code:C.invalid_union,unionErrors:a}),H}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new pt(u));return R(r,{code:C.invalid_union,unionErrors:l}),H}}get options(){return this._def.options}}Ni.create=(t,e)=>new Ni({options:t,typeName:B.ZodUnion,...Y(e)});const nr=t=>t instanceof Ei?nr(t.schema):t instanceof Ut?nr(t.innerType()):t instanceof Ci?[t.value]:t instanceof Wr?t.options:t instanceof Pi?te.objectValues(t.enum):t instanceof Oi?nr(t._def.innerType):t instanceof ki?[void 0]:t instanceof ji?[null]:t instanceof Qt?[void 0,...nr(t.unwrap())]:t instanceof Vr?[null,...nr(t.unwrap())]:t instanceof Gc||t instanceof Ri?nr(t.unwrap()):t instanceof Di?nr(t._def.innerType):[];class $o extends Q{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return R(r,{code:C.invalid_type,expected:M.object,received:r.parsedType}),H;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(R(r,{code:C.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),H)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=nr(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new $o({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Y(n)})}}function Fu(t,e){const r=or(t),n=or(e);if(t===e)return{valid:!0,data:t};if(r===M.object&&n===M.object){const s=te.objectKeys(e),i=te.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const u=Fu(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(r===M.array&&n===M.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],u=Fu(a,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===M.date&&n===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Si extends Q{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Lu(i)||Lu(a))return H;const l=Fu(i.value,a.value);return l.valid?((zu(i)||zu(a))&&r.dirty(),{status:r.value,value:l.data}):(R(n,{code:C.invalid_intersection_types}),H)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Si.create=(t,e,r)=>new Si({left:t,right:e,typeName:B.ZodIntersection,...Y(r)});class Jt extends Q{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.array)return R(n,{code:C.invalid_type,expected:M.array,received:n.parsedType}),H;if(n.data.length<this._def.items.length)return R(n,{code:C.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&n.data.length>this._def.items.length&&(R(n,{code:C.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Kt(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Qe.mergeArray(r,a)):Qe.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Jt({...this._def,rest:e})}}Jt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jt({items:t,typeName:B.ZodTuple,rest:null,...Y(e)})};class Ti extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return R(n,{code:C.invalid_type,expected:M.object,received:n.parsedType}),H;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new Kt(n,l,n.path,l)),value:a._parse(new Kt(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Qe.mergeObjectAsync(r,s):Qe.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Q?new Ti({keyType:e,valueType:r,typeName:B.ZodRecord,...Y(n)}):new Ti({keyType:Dt.create(),valueType:e,typeName:B.ZodRecord,...Y(r)})}}class oo extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.map)return R(n,{code:C.invalid_type,expected:M.map,received:n.parsedType}),H;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,u],c)=>({key:s._parse(new Kt(n,l,n.path,[c,"key"])),value:i._parse(new Kt(n,u,n.path,[c,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return H;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of a){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return H;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}oo.create=(t,e,r)=>new oo({valueType:e,keyType:t,typeName:B.ZodMap,...Y(r)});class xn extends Q{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.set)return R(n,{code:C.invalid_type,expected:M.set,received:n.parsedType}),H;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(R(n,{code:C.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(R(n,{code:C.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const d of u){if(d.status==="aborted")return H;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const l=[...n.data.values()].map((u,c)=>i._parse(new Kt(n,u,n.path,c)));return n.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,r){return new xn({...this._def,minSize:{value:e,message:z.toString(r)}})}max(e,r){return new xn({...this._def,maxSize:{value:e,message:z.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}xn.create=(t,e)=>new xn({valueType:t,minSize:null,maxSize:null,typeName:B.ZodSet,...Y(e)});class Gn extends Q{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.function)return R(r,{code:C.invalid_type,expected:M.function,received:r.parsedType}),H;function n(l,u){return no({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ro(),ds].filter(c=>!!c),issueData:{code:C.invalid_arguments,argumentsError:u}})}function s(l,u){return no({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ro(),ds].filter(c=>!!c),issueData:{code:C.invalid_return_type,returnTypeError:u}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof hs){const l=this;return et(async function(...u){const c=new pt([]),d=await l._def.args.parseAsync(u,i).catch(v=>{throw c.addIssue(n(u,v)),c}),f=await Reflect.apply(a,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(v=>{throw c.addIssue(s(f,v)),c})})}else{const l=this;return et(function(...u){const c=l._def.args.safeParse(u,i);if(!c.success)throw new pt([n(u,c.error)]);const d=Reflect.apply(a,this,c.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new pt([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Gn({...this._def,args:Jt.create(e).rest(cn.create())})}returns(e){return new Gn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Gn({args:e||Jt.create([]).rest(cn.create()),returns:r||cn.create(),typeName:B.ZodFunction,...Y(n)})}}class Ei extends Q{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ei.create=(t,e)=>new Ei({getter:t,typeName:B.ZodLazy,...Y(e)});class Ci extends Q{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return R(r,{received:r.data,code:C.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ci.create=(t,e)=>new Ci({value:t,typeName:B.ZodLiteral,...Y(e)});function Og(t,e){return new Wr({values:t,typeName:B.ZodEnum,...Y(e)})}class Wr extends Q{constructor(){super(...arguments),Ls.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return R(r,{expected:te.joinValues(n),received:r.parsedType,code:C.invalid_type}),H}if(so(this,Ls)||Tg(this,Ls,new Set(this._def.values)),!so(this,Ls).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return R(r,{received:r.data,code:C.invalid_enum_value,options:n}),H}return et(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Wr.create(e,{...this._def,...r})}exclude(e,r=this._def){return Wr.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ls=new WeakMap;Wr.create=Og;class Pi extends Q{constructor(){super(...arguments),zs.set(this,void 0)}_parse(e){const r=te.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==M.string&&n.parsedType!==M.number){const s=te.objectValues(r);return R(n,{expected:te.joinValues(s),received:n.parsedType,code:C.invalid_type}),H}if(so(this,zs)||Tg(this,zs,new Set(te.getValidEnumValues(this._def.values))),!so(this,zs).has(e.data)){const s=te.objectValues(r);return R(n,{received:n.data,code:C.invalid_enum_value,options:s}),H}return et(e.data)}get enum(){return this._def.values}}zs=new WeakMap;Pi.create=(t,e)=>new Pi({values:t,typeName:B.ZodNativeEnum,...Y(e)});class hs extends Q{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.promise&&r.common.async===!1)return R(r,{code:C.invalid_type,expected:M.promise,received:r.parsedType}),H;const n=r.parsedType===M.promise?r.data:Promise.resolve(r.data);return et(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hs.create=(t,e)=>new hs({type:t,typeName:B.ZodPromise,...Y(e)});class Ut extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{R(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return H;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?H:u.status==="dirty"||r.value==="dirty"?qn(u.value):u});{if(r.value==="aborted")return H;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?H:l.status==="dirty"||r.value==="dirty"?qn(l.value):l}}if(s.type==="refinement"){const a=l=>{const u=s.refinement(l,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?H:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?H:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vn(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>vn(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):a);te.assertNever(s)}}Ut.create=(t,e,r)=>new Ut({schema:t,typeName:B.ZodEffects,effect:e,...Y(r)});Ut.createWithPreprocess=(t,e,r)=>new Ut({schema:e,effect:{type:"preprocess",transform:t},typeName:B.ZodEffects,...Y(r)});class Qt extends Q{_parse(e){return this._getType(e)===M.undefined?et(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qt.create=(t,e)=>new Qt({innerType:t,typeName:B.ZodOptional,...Y(e)});class Vr extends Q{_parse(e){return this._getType(e)===M.null?et(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:B.ZodNullable,...Y(e)});class Oi extends Q{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===M.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Oi.create=(t,e)=>new Oi({innerType:t,typeName:B.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class Di extends Q{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _i(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Di.create=(t,e)=>new Di({innerType:t,typeName:B.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class lo extends Q{_parse(e){if(this._getType(e)!==M.nan){const n=this._getOrReturnCtx(e);return R(n,{code:C.invalid_type,expected:M.nan,received:n.parsedType}),H}return{status:"valid",value:e.data}}}lo.create=t=>new lo({typeName:B.ZodNaN,...Y(t)});const rj=Symbol("zod_brand");class Gc extends Q{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class qi extends Q{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?H:i.status==="dirty"?(r.dirty(),qn(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?H:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new qi({in:e,out:r,typeName:B.ZodPipeline})}}class Ri extends Q{_parse(e){const r=this._def.innerType._parse(e),n=s=>(vn(s)&&(s.value=Object.freeze(s.value)),s);return _i(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ri.create=(t,e)=>new Ri({innerType:t,typeName:B.ZodReadonly,...Y(e)});function Xf(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Dg(t,e={},r){return t?fs.create().superRefine((n,s)=>{var i,a;const l=t(n);if(l instanceof Promise)return l.then(u=>{var c,d;if(!u){const f=Xf(e,n),h=(d=(c=f.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!l){const u=Xf(e,n),c=(a=(i=u.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...u,fatal:c})}}):fs.create()}const nj={object:ve.lazycreate};var B;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(B||(B={}));const sj=(t,e={message:`Input not instance of ${t.name}`})=>Dg(r=>r instanceof t,e),Rg=Dt.create,Ig=Hr.create,ij=lo.create,aj=qr.create,Ag=bi.create,oj=yn.create,lj=io.create,uj=ki.create,cj=ji.create,dj=fs.create,fj=cn.create,hj=vr.create,mj=ao.create,pj=At.create,gj=ve.create,vj=ve.strictCreate,yj=Ni.create,xj=$o.create,wj=Si.create,_j=Jt.create,bj=Ti.create,kj=oo.create,jj=xn.create,Nj=Gn.create,Sj=Ei.create,Tj=Ci.create,Ej=Wr.create,Cj=Pi.create,Pj=hs.create,eh=Ut.create,Oj=Qt.create,Dj=Vr.create,Rj=Ut.createWithPreprocess,Ij=qi.create,Aj=()=>Rg().optional(),Mj=()=>Ig().optional(),$j=()=>Ag().optional(),Uj={string:t=>Dt.create({...t,coerce:!0}),number:t=>Hr.create({...t,coerce:!0}),boolean:t=>bi.create({...t,coerce:!0}),bigint:t=>qr.create({...t,coerce:!0}),date:t=>yn.create({...t,coerce:!0})},Lj=H;var L=Object.freeze({__proto__:null,defaultErrorMap:ds,setErrorMap:Rk,getErrorMap:ro,makeIssue:no,EMPTY_PATH:Ik,addIssueToContext:R,ParseStatus:Qe,INVALID:H,DIRTY:qn,OK:et,isAborted:Lu,isDirty:zu,isValid:vn,isAsync:_i,get util(){return te},get objectUtil(){return Uu},ZodParsedType:M,getParsedType:or,ZodType:Q,datetimeRegex:Pg,ZodString:Dt,ZodNumber:Hr,ZodBigInt:qr,ZodBoolean:bi,ZodDate:yn,ZodSymbol:io,ZodUndefined:ki,ZodNull:ji,ZodAny:fs,ZodUnknown:cn,ZodNever:vr,ZodVoid:ao,ZodArray:At,ZodObject:ve,ZodUnion:Ni,ZodDiscriminatedUnion:$o,ZodIntersection:Si,ZodTuple:Jt,ZodRecord:Ti,ZodMap:oo,ZodSet:xn,ZodFunction:Gn,ZodLazy:Ei,ZodLiteral:Ci,ZodEnum:Wr,ZodNativeEnum:Pi,ZodPromise:hs,ZodEffects:Ut,ZodTransformer:Ut,ZodOptional:Qt,ZodNullable:Vr,ZodDefault:Oi,ZodCatch:Di,ZodNaN:lo,BRAND:rj,ZodBranded:Gc,ZodPipeline:qi,ZodReadonly:Ri,custom:Dg,Schema:Q,ZodSchema:Q,late:nj,get ZodFirstPartyTypeKind(){return B},coerce:Uj,any:dj,array:pj,bigint:aj,boolean:Ag,date:oj,discriminatedUnion:xj,effect:eh,enum:Ej,function:Nj,instanceof:sj,intersection:wj,lazy:Sj,literal:Tj,map:kj,nan:ij,nativeEnum:Cj,never:hj,null:cj,nullable:Dj,number:Ig,object:gj,oboolean:$j,onumber:Mj,optional:Oj,ostring:Aj,pipeline:Ij,preprocess:Rj,promise:Pj,record:bj,set:jj,strictObject:vj,string:Rg,symbol:lj,transformer:eh,tuple:_j,undefined:uj,union:yj,unknown:fj,void:mj,NEVER:Lj,ZodIssueCode:C,quotelessJson:Dk,ZodError:pt});const zj=L.object({name:L.string().min(1,"Studio name is required"),description:L.string().optional(),address:L.string().min(1,"Address is required"),city:L.string().min(1,"City is required"),state:L.string().min(1,"State is required"),country:L.string().min(1,"Country is required"),postal_code:L.string().min(1,"Postal code is required"),phone:L.string().optional(),email:L.string().email().optional().or(L.literal("")),photos:L.array(L.string()).optional(),amenities:L.record(L.boolean()).optional()}),th={parking:!1,wifi:!1,kitchen:!1,bathroom:!1,lounge:!1,"climate-control":!1};function Fj(){const{id:t}=ys(),e=Ke(),[r,n]=_.useState(null),[s,i]=_.useState(!0),[a,l]=_.useState(!1),[u,c]=_.useState(null),[d,f]=_.useState([]),[h,v]=_.useState(th);_.useEffect(()=>{async function y(){if(t)try{const{data:m,error:p}=await F.from("studios").select("*").eq("id",t).single();if(p)throw p;n(m),f(m.photos||[]),v({...th,...m.amenities||{}})}catch(m){c(m instanceof Error?m.message:"Failed to load studio")}finally{i(!1)}}y()},[t]);const x=async y=>{y.preventDefault(),l(!0),c(null);const m=new FormData(y.currentTarget),p={name:m.get("name"),description:m.get("description"),address:m.get("address"),city:m.get("city"),state:m.get("state"),country:m.get("country"),postal_code:m.get("postal_code"),phone:m.get("phone"),email:m.get("email"),photos:d,amenities:h};try{const g=zj.parse(p),{error:b}=await F.from("studios").update(g).eq("id",t);if(b)throw b;e(`/studios/${t}/manage`)}catch(g){if(g instanceof L.ZodError){c(g.errors[0].message);return}c(g instanceof Error?g.message:"Failed to update studio")}finally{l(!1)}},w=y=>{f(d.filter((m,p)=>p!==y))};return s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading studio details..."})]}):u||!r?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-4 text-red-600",children:u||"Studio not found"})]}):o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Studio Settings"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Update your studio information and photos"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6 bg-white rounded-lg shadow-sm p-6",children:[u&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:u}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Studio Name"}),o.jsx("input",{type:"text",id:"name",name:"name",defaultValue:r.name,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",defaultValue:r.description||"",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("input",{type:"text",id:"address",name:"address",defaultValue:r.address,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),o.jsx("input",{type:"text",id:"city",name:"city",defaultValue:r.city,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),o.jsx("input",{type:"text",id:"state",name:"state",defaultValue:r.state,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),o.jsx("input",{type:"text",id:"country",name:"country",defaultValue:r.country,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),o.jsx("input",{type:"text",id:"postal_code",name:"postal_code",defaultValue:r.postal_code,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",defaultValue:r.phone||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",defaultValue:r.email||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:d.map((y,m)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:y,alt:`Studio photo ${m+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>w(m),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Hi,{className:"w-4 h-4"})})]},m))}),o.jsxs("button",{type:"button",onClick:async()=>{try{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=async m=>{var g;const p=(g=m.target.files)==null?void 0:g[0];if(p){c(null);try{const b=await Mo(p);f(k=>[...k,b])}catch(b){c("Error uploading photo. Please try again."),console.error(b)}}},y.click()}catch(y){c("Error initiating file upload. Please try again."),console.error(y)}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(h).map(([y,m])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:p=>v({...h,[y]:p.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y.split("-").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")})]},y))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>e(`/studios/${t}/manage`),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):"Save Changes"})]})]})]})}const Bj=L.object({name:L.string().min(1,"Room name is required"),description:L.string().optional(),room_type_id:L.string().uuid("Please select a room type"),hourly_rate:L.number().min(0,"Hourly rate must be positive"),minimum_hours:L.number().int().min(1,"Minimum booking must be at least 1 hour"),photos:L.array(L.string()).optional(),booking_link:L.string().url("Please enter a valid URL").optional().or(L.literal("")),equipment:L.record(L.any()).optional(),specifications:L.record(L.any()).optional()}),Hj={"audio-interface":!1,microphones:!1,monitors:!1,headphones:!1,instruments:!1,"mixing-console":!1},qj={soundproof:!1,"acoustic-treatment":!1,"climate-control":!1,"natural-light":!1,"recording-booth":!1};function Wj(){const{id:t}=ys(),e=Ke(),[r,n]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState([]),[u,c]=_.useState([]),[d,f]=_.useState(Hj),[h,v]=_.useState(qj);_.useEffect(()=>{async function y(){const{data:m}=await F.from("room_types").select("*").order("name");c(m||[])}y()},[]);const x=async y=>{y.preventDefault(),n(!0),i(null);const m=new FormData(y.currentTarget),p={name:m.get("name"),description:m.get("description"),room_type_id:m.get("room_type_id"),hourly_rate:Number(m.get("hourly_rate")),minimum_hours:Number(m.get("minimum_hours")),photos:a,booking_link:m.get("booking_link"),equipment:d,specifications:h};try{const g=Bj.parse(p),{error:b}=await F.from("rooms").insert([{...g,studio_id:t}]);if(b)throw b;e(`/studios/${t}/manage`)}catch(g){if(g instanceof L.ZodError){i(g.errors[0].message);return}i(g instanceof Error?g.message:"Failed to create room")}finally{n(!1)}},w=y=>{l(a.filter((m,p)=>p!==y))};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Add New Room"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Create a new recording room in your studio"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6 bg-white rounded-lg shadow-sm p-6",children:[s&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:s}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Room Name"}),o.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"room_type_id",className:"block text-sm font-medium text-gray-700",children:"Room Type"}),o.jsxs("select",{id:"room_type_id",name:"room_type_id",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"",children:"Select a room type"}),u.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"hourly_rate",className:"block text-sm font-medium text-gray-700",children:"Hourly Rate ($)"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"number",id:"hourly_rate",name:"hourly_rate",min:"0",step:"0.01",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"minimum_hours",className:"block text-sm font-medium text-gray-700",children:"Minimum Hours"}),o.jsx("input",{type:"number",id:"minimum_hours",name:"minimum_hours",min:"1",defaultValue:"1",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"booking_link",className:"block text-sm font-medium text-gray-700",children:["External Booking Link ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),o.jsx("input",{type:"url",id:"booking_link",name:"booking_link",placeholder:"https://...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"If provided, this link will be used instead of the default booking flow"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.map((y,m)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:y,alt:`Room photo ${m+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>w(m),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Hi,{className:"w-4 h-4"})})]},m))}),o.jsxs("button",{type:"button",onClick:async()=>{try{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=async m=>{var g;const p=(g=m.target.files)==null?void 0:g[0];if(p){i(null);try{const b=await Mo(p);l(k=>[...k,b])}catch(b){i("Error uploading photo. Please try again."),console.error(b)}}},y.click()}catch(y){i("Error initiating file upload. Please try again."),console.error(y)}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipment"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(d).map(([y,m])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:p=>f({...d,[y]:p.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y.split("-").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")})]},y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specifications"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(h).map(([y,m])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:p=>v({...h,[y]:p.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y.split("-").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")})]},y))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>e(`/studios/${t}/manage`),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?o.jsxs(o.Fragment,{children:[o.jsx(ot,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Creating..."]}):"Create Room"})]})]})]})}function Vj(){var w;const{id:t}=ys(),e=Ke(),{user:r}=Lt(),[n,s]=_.useState(null),[i,a]=_.useState([]),[l,u]=_.useState([]),[c,d]=_.useState(!0),[f,h]=_.useState(null),[v,x]=_.useState("details");return _.useEffect(()=>{async function y(){if(!(!t||!r))try{const{data:m,error:p}=await F.from("studios").select(`
            *,
            organization:organizations(name, logo_url)
          `).eq("id",t).single();if(p)throw p;s(m);const{data:g,error:b}=await F.from("rooms").select(`
            *,
            room_type:room_types(name)
          `).eq("studio_id",t).order("name");if(b)throw b;a(g);const{data:k,error:j}=await F.from("successful_bookings").select(`
            *,
            room:rooms (
              id,
              name
            )
          `).in("room_id",g.map(N=>N.id)).order("created_at",{ascending:!1});if(j)throw j;u(k||[])}catch(m){h(m instanceof Error?m.message:"Failed to load studio")}finally{d(!1)}}y()},[t,r]),c?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading studio details..."})]}):f||!n?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-4 text-red-600",children:f||"Studio not found"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("button",{onClick:()=>e("/dashboard"),className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[o.jsx(ls,{className:"w-5 h-5 mr-1"}),"Back to Dashboard"]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[(w=n.photos)!=null&&w[0]?o.jsx("img",{src:n.photos[0],alt:n.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-16 h-16 text-gray-400"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[o.jsx("h1",{className:"text-4xl font-bold",children:n.name}),o.jsx("p",{className:"text-lg mt-2 text-gray-100",children:"Manage your recording studio"})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>e(`/studios/${t}/settings`),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Q_,{className:"w-4 h-4 mr-2"}),"Studio Settings"]})}),o.jsx("nav",{className:"border-b border-gray-200",children:o.jsx("div",{className:"-mb-px flex space-x-8",children:[{id:"details",label:"Details",icon:pr},{id:"rooms",label:"Rooms",icon:ot},{id:"bookings",label:"Bookings",icon:us}].map(y=>o.jsxs("button",{onClick:()=>x(y.id),className:`
                group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm
                ${v===y.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[o.jsx(y.icon,{className:`
                w-5 h-5 mr-2
                ${v===y.id?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"}
              `}),y.label]},y.id))})}),v==="details"&&o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[n.address,o.jsx("br",{}),n.city,", ",n.state," ",n.postal_code,o.jsx("br",{}),n.country]})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Contact"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[n.email&&o.jsx("div",{children:n.email}),n.phone&&o.jsx("div",{children:n.phone})]})]}),n.description&&o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:n.description})]})]})}),v==="rooms"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recording Rooms"}),o.jsxs("button",{onClick:()=>e(`/studios/${t}/rooms/new`),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Add Room"]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300",children:[o.jsx(ot,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No rooms yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Get started by adding your first recording room"}),o.jsxs("button",{onClick:()=>e(`/studios/${t}/rooms/new`),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Add Room"]})]}):o.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.map(y=>{var m,p;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(m=y.photos)!=null&&m[0]?o.jsx("img",{src:y.photos[0],alt:y.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-12 h-12 text-gray-400"})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.name}),o.jsx("p",{className:"text-sm text-gray-500",children:(p=y.room_type)==null?void 0:p.name}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("span",{className:"font-medium text-gray-900",children:$t(Number(y.hourly_rate))}),o.jsx("span",{className:"text-gray-500",children:"/hour"})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>e(`/studios/${t}/rooms/${y.id}/edit`),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:o.jsx(rg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:async()=>{if(!confirm("Are you sure you want to delete this room?"))return;const{error:g}=await F.from("rooms").delete().eq("id",y.id);if(g){alert("Failed to delete room");return}a(i.filter(b=>b.id!==y.id))},className:"inline-flex items-center p-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:o.jsx(J_,{className:"w-4 h-4"})})]})]})]},y.id)})})]}),v==="bookings"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Bookings"})}),l.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300",children:[o.jsx(us,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No bookings yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Bookings will appear here when customers make reservations"})]}):o.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(y=>{var m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.customer_name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:((m=y.room)==null?void 0:m.name)||"Unknown Room"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[o.jsx(er,{className:"w-4 h-4 mr-1 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{children:y.booking_date}),o.jsxs("div",{className:"text-gray-500",children:[y.start_time," - ",y.end_time]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`
                            px-2 py-1 text-xs font-medium rounded-full
                            ${y.status==="confirmed"?"bg-green-100 text-green-800":""}
                            ${y.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                            ${y.status==="cancelled"?"bg-red-100 text-red-800":""}
                            ${y.status==="completed"?"bg-blue-100 text-blue-800":""}
                          `,children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"space-y-1",children:o.jsxs("a",{href:`mailto:${y.customer_email}`,className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:[o.jsx(Wc,{className:"w-4 h-4 mr-1"}),y.customer_email]})})})]},y.id)})})]})})})]})]})}function Yj(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(null),[a,l]=_.useState(!1),{signIn:u}=Lt(),c=Ke(),d=async f=>{f.preventDefault(),i(null),l(!0);try{await u(t,r),c("/dashboard")}catch(h){i(h instanceof Error?h.message:"Failed to sign in")}finally{l(!1)}};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 p-6 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(yi,{className:"mx-auto h-12 w-12 text-indigo-600"}),o.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome back"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to continue to StudioBase"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[s&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:s}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>n(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?o.jsxs(o.Fragment,{children:[o.jsx(V_,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Signing in..."]}):"Sign in"})}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Don't have an account?"})," ",o.jsx(Le,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})]})]})})}function Zj(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[u,c]=_.useState(""),[d,f]=_.useState(!1),[h,v]=_.useState(null),[x,w]=_.useState(!1),{signUp:y}=Lt(),m=Ke(),p=async g=>{if(g.preventDefault(),v(null),r!==s){v("Passwords do not match");return}w(!0);try{await y(t,r,{data:{full_name:a,phone:u||null,is_studio_owner:d}}),m("/dashboard")}catch(b){v(b instanceof Error?b.message:"Failed to create account")}finally{w(!1)}};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 p-6 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(yi,{className:"mx-auto h-12 w-12 text-indigo-600"}),o.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Join StudioBase to ",d?"list your studios":"book recording spaces"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-1 bg-gray-100 rounded-lg",children:[o.jsxs("button",{type:"button",className:`p-3 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-all ${d?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow"}`,onClick:()=>f(!1),children:[o.jsx(yi,{className:"w-4 h-4"}),"Artist"]}),o.jsxs("button",{type:"button",className:`p-3 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-all ${d?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,onClick:()=>f(!0),children:[o.jsx(pr,{className:"w-4 h-4"}),"Studio Owner"]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[h&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:h}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full name"}),o.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:a,onChange:g=>l(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:g=>e(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:g=>n(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:g=>i(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:["Phone number ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),o.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:u,onChange:g=>c(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creating account...":"Sign up"})]})]})})}function Qj(){var d,f,h;const{id:t}=ys(),[e,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState(null);if(_.useEffect(()=>{async function v(){var x;if(t)try{const{data:w,error:y}=await F.from("studios").select(`
            *,
            organization:organizations(name, logo_url),
            rooms(
              *,
              room_type:room_types(name)
            )
          `).eq("id",t).single();if(y)throw y;r(w),(x=w==null?void 0:w.rooms)!=null&&x[0]&&u(w.rooms[0].id)}catch(w){a(w instanceof Error?w.message:"Failed to load studio")}finally{s(!1)}}v()},[t]),n)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading studio details..."})]});if(i||!e)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-4 text-red-600",children:i||"Studio not found"})]});const c=e.rooms.find(v=>v.id===l);return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[o.jsxs("header",{className:"relative h-96 rounded-xl overflow-hidden bg-gray-100",children:[(d=e.photos)!=null&&d[0]?o.jsx("img",{src:e.photos[0].replace(/\.(heic|heif)$/i,".jpg"),alt:e.name,className:"w-full h-full object-cover bg-gray-100",onError:v=>{const x=v.target;x.src.endsWith(".jpg")?(x.onerror=null,x.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zIDN2MThoMTgiLz48cGF0aCBkPSJNMjEgM3YxOEgzIi8+PC9zdmc+"):x.src=x.src.replace(/\.(heic|heif)$/i,".jpg")}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-24 h-24 text-gray-400"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[((f=e.organization)==null?void 0:f.logo_url)&&o.jsx("img",{src:e.organization.logo_url,alt:e.organization.name,className:"w-12 h-12 rounded-full bg-white"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:e.name}),((h=e.organization)==null?void 0:h.name)&&o.jsx("p",{className:"text-lg opacity-90",children:e.organization.name})]})]})})]}),o.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"About this Studio"}),o.jsx("p",{className:"text-gray-600",children:e.description}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ao,{className:"w-5 h-5 text-gray-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Location"}),o.jsxs("p",{className:"text-gray-600",children:[e.address,o.jsx("br",{}),e.city,", ",e.state," ",e.postal_code,o.jsx("br",{}),e.country]})]})]}),o.jsxs("div",{className:"space-y-3",children:[e.phone&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Z_,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-gray-600",children:e.phone})]}),e.email&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Wc,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-gray-600",children:e.email})]})]})]}),e.amenities&&Object.keys(e.amenities).length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Amenities"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e.amenities).map(([v,x])=>x&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),o.jsx("span",{className:"text-gray-600",children:v.split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ")})]},v))})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Recording Rooms"}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(ng,{className:"w-5 h-5 text-yellow-400 mr-1"}),o.jsx("span",{className:"font-medium",children:"4.9"}),o.jsx("span",{className:"text-gray-500 ml-1",children:"(128 reviews)"})]})]}),o.jsx("div",{className:"grid gap-6",children:e.rooms.map(v=>{var x,w;return o.jsx("div",{className:`
                    relative p-4 rounded-lg border-2 transition-colors cursor-pointer
                    ${l===v.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
                  `,onClick:()=>u(v.id),children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg bg-gray-100 overflow-hidden",children:(x=v.photos)!=null&&x[0]?o.jsx("img",{src:v.photos[0],alt:v.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-8 h-8 text-gray-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v.name}),o.jsx("p",{className:"text-sm text-gray-500",children:(w=v.room_type)==null?void 0:w.name}),o.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[o.jsx(_s,{className:"w-4 h-4 text-gray-400 mr-1"}),o.jsx("span",{className:"font-medium text-gray-900",children:$t(Number(v.hourly_rate))}),o.jsx("span",{className:"text-gray-500",children:"/hour"}),o.jsx("span",{className:"mx-2",children:"•"}),o.jsx(er,{className:"w-4 h-4 text-gray-400 mr-1"}),o.jsxs("span",{className:"text-gray-500",children:[v.minimum_hours," hour min"]})]})]})]})},v.id)})})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-8 space-y-6",children:c&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:c.name}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:$t(Number(c.hourly_rate))}),o.jsx("span",{className:"text-gray-500 ml-1",children:"/hour"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),c.equipment&&Object.keys(c.equipment).length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Equipment"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(c.equipment).map(([v,x])=>x&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),o.jsx("span",{className:"text-sm text-gray-600",children:v.split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ")})]},v))})]}),o.jsx(Le,{to:c.booking_link||`/booking/${c.id}`,target:c.booking_link?"_blank":void 0,rel:c.booking_link?"noopener noreferrer":void 0,className:"block w-full py-3 px-4 text-center font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm",children:"Book Now"})]})})})]})]})}function Kj({minimumHours:t,hourlyRate:e,selectedHours:r,onHoursChange:n,onNext:s}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How long do you need?"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Select the number of hours you'd like to book"})]}),o.jsxs("div",{className:"max-w-sm mx-auto",children:[o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hours"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(er,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"number",min:t,value:r,onChange:i=>n(Math.max(t,parseInt(i.target.value))),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Minimum booking: ",t," hours"]})]}),o.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Rate per hour"}),o.jsx("span",{children:$t(e)})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-2",children:[o.jsx("span",{children:"Hours"}),o.jsxs("span",{children:["× ",r]})]}),o.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:o.jsxs("div",{className:"flex items-center justify-between font-medium",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:$t(e*r)})]})})]}),o.jsx("button",{onClick:s,className:"mt-6 w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continue to Select Time"})]})]})}function Jj({roomId:t,roomTimezone:e,selectedDate:r,selectedTime:n,onDateChange:s,onTimeChange:i,onBack:a,onNext:l}){const[u,c]=_.useState([]),[d,f]=_.useState(!1),[h,v]=_.useState(null),[x,w]=_.useState(""),[y,m]=_.useState(!1),[p,g]=_.useState(null);_.useEffect(()=>{const j=Intl.DateTimeFormat().resolvedOptions().timeZone;w(j),m(j!==e)},[e]);const b=_.useMemo(()=>{const j=x||"UTC",N=e||"UTC";try{const T=new Date;let P,S;try{P=new Date(T.toLocaleString("en-US",{timeZone:j}))}catch(D){console.error(`Invalid user timezone: ${j}`,D),P=new Date}try{S=new Date(T.toLocaleString("en-US",{timeZone:N}))}catch(D){console.error(`Invalid room timezone: ${N}`,D),S=new Date}const E=P.getDate(),A=S.getDate(),ee=E!==A&&E>A?1:0,St=P.getHours()>=17,zt=1;return g("Same-day bookings are not available. Please select a future date."),Array.from({length:14},(D,q)=>zr(Uf(new Date,q+zt),"yyyy-MM-dd"))}catch(T){return console.error("Error calculating available dates:",T),Array.from({length:14},(P,S)=>zr(Uf(new Date,S+1),"yyyy-MM-dd"))}},[x,e]);_.useEffect(()=>{(!r||!b.includes(r))&&s(b[0])},[r,s,b]);const k=async j=>{if(!j){console.warn("No date selected, skipping loadAvailableSlots");return}f(!0),v(null);try{const{data:N,error:T}=await F.rpc("get_available_time_slots",{p_room_id:t,p_booking_date:j});if(T)throw T;const P=(N||[]).filter(S=>!(!S.is_available||!S.time_slot||!/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(S.time_slot)));c(P)}catch(N){console.error("Error loading available slots:",N),v("Failed to load available time slots")}finally{f(!1)}};return _.useEffect(()=>{k(r)},[r,t,e,x]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Select Date & Time"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Choose when you'd like to start your session"})]}),o.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(tg,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Studio uses"})," ",wi(e||"UTC")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Your timezone is currently:"})," ",wi(x||"UTC")]}),e!==x&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["Times are shown in ",y?"your local":"the studio's"," timezone."]}),o.jsxs("button",{onClick:()=>m(!y),className:"text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 font-medium py-1 px-2 rounded transition-colors",children:["Switch to ",y?"studio":"your"," timezone"]})]})]})]})}),p&&o.jsx("div",{className:"bg-amber-50 p-4 rounded-md",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(L_,{className:"h-5 w-5 text-amber-500 mt-0.5 mr-2 flex-shrink-0"}),o.jsx("div",{className:"text-sm text-amber-700",children:p})]})}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date"}),o.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:o.jsx("select",{value:r,onChange:j=>s(j.target.value),className:"block w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-right",children:b.map(j=>o.jsx("option",{value:j,children:zr(_g(j,"yyyy-MM-dd",new Date),"EEEE, MMMM d")},j))})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available Times"}),o.jsx("div",{className:"mt-2 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:d?o.jsx("p",{className:"col-span-full text-center text-gray-500 py-4",children:"Loading available times..."}):h?o.jsx("p",{className:"col-span-full text-center text-red-500 py-4",children:h}):u.length===0?o.jsx("p",{className:"col-span-full text-center text-gray-500 py-4",children:"No available time slots for this date"}):u.map(j=>o.jsxs("button",{onClick:()=>i(j.time_slot),className:`
                      flex items-center justify-center px-3 py-2 border rounded-md text-sm font-medium
                      ${j.time_slot===n?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-300 bg-white text-gray-700 hover:border-indigo-300 hover:bg-indigo-50"}
                      transition-colors duration-200
                    `,children:[o.jsx(er,{className:"w-4 h-4 mr-2"}),y&&e!==x?Sk(j.time_slot,r,e||"UTC",x||"UTC"):$u(j.time_slot)]},j.time_slot))})]})]}),o.jsxs("div",{className:"mt-8 flex justify-between",children:[o.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx("button",{onClick:l,disabled:!r||!n,className:"inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Review Booking"})]})]})]})}function Gj({roomName:t,roomType:e,roomTimezone:r,selectedDate:n,selectedTime:s,hours:i,hourlyRate:a,onBack:l,onConfirm:u,processing:c}){const[d,f]=_.useState("");_.useEffect(()=>{const p=Intl.DateTimeFormat().resolvedOptions().timeZone;f(p)},[]);const h=new Date(`${n}T${s}`),v=e1(h,i),x=zr(h,"EEEE, MMMM d, yyyy"),w=zr(h,"h:mm a"),y=zr(v,"h:mm a"),m=a*i;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Your Booking"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Please confirm your booking details"})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),o.jsx("p",{className:"text-gray-600",children:e})]}),o.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[o.jsx(us,{className:"w-5 h-5 text-gray-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:x}),o.jsx("p",{className:"text-sm text-gray-600",children:r&&wi(r)})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(er,{className:"w-5 h-5 text-gray-400 mt-0.5"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[w," - ",y]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[i," hour",i!==1?"s":""]})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(_s,{className:"w-5 h-5 text-gray-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:$t(m)}),o.jsxs("p",{className:"text-sm text-gray-600",children:[$t(a)," × ",i," hour",i!==1?"s":""]})]})]})]}),o.jsxs("div",{className:"mt-8 flex justify-between",children:[o.jsxs("button",{onClick:l,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx("button",{onClick:u,disabled:c,className:"inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"Processing...":"Confirm & Pay"})]})]})}function Xj(){var P;const{roomId:t}=ys(),e=Ke(),r=Xt(),{user:n}=Lt(),[s,i]=_.useState(null),[a,l]=_.useState(!0),[u,c]=_.useState(null),[d,f]=_.useState("hours"),[h,v]=_.useState(""),[x,w]=_.useState(""),[y,m]=_.useState(2),[p,g]=_.useState(!1),[b,k]=_.useState(""),j=_.useMemo(()=>s?Number(s.hourly_rate)*y:0,[s,y]);_.useEffect(()=>{const S=Intl.DateTimeFormat().resolvedOptions().timeZone;k(S)},[]),_.useEffect(()=>{async function S(){if(t){if(!n){e("/login",{state:{from:r}});return}try{const{data:E,error:A}=await F.from("rooms").select(`
            *,
            room_type:room_types(name)
          `).eq("id",t).single();if(A)throw A;E.timezone||(E.timezone="America/New_York"),i(E)}catch(E){c(E instanceof Error?E.message:"Failed to load room")}finally{l(!1)}}}S()},[t,n,e,r]);const N=async()=>{var S;if(s){g(!0),c(null);try{const E=new Date(`${h}T${x}`),V=new Date(E.getTime()+y*60*60*1e3).toTimeString().split(" ")[0].substring(0,5),ee=s.timezone;console.log("TIMEZONE",ee);const{data:He,error:St}=await F.rpc("check_time_slot_availability",{p_booking_date:h,p_end_time:V,p_room_id:s.id,p_start_time:x,p_timezone:ee});if(St)throw St;if(!He)throw new Error("This time slot is no longer available. Please select a different time.");const D=await(await fetch("https://clcoyrkrqzehvjivjdub.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsY295cmtycXplaHZqaXZqZHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MjkyMDIsImV4cCI6MjA1OTIwNTIwMn0.q0ZXAjm9UuJbucm1xsAQDQ_SP1v84SsUd-8A8hhV4sA","Content-Type":"application/json"},body:JSON.stringify({roomId:s.id,date:h,startTime:x,hours:y,amount:j,userId:n==null?void 0:n.id,userEmail:n==null?void 0:n.email,userName:(S=n==null?void 0:n.user_metadata)==null?void 0:S.full_name,timezone:ee})})).json();if(D.error)throw new Error(D.error);if(D.sessionUrl)localStorage.setItem("studio_id",D.studioOwnerId),window.location.href=D.sessionUrl;else throw new Error("No checkout URL received")}catch(E){c(E instanceof Error?E.message:"Failed to initialize payment")}finally{g(!1)}}},T=()=>{var S;switch(d){case"hours":return o.jsx(Kj,{minimumHours:(s==null?void 0:s.minimum_hours)||1,hourlyRate:Number((s==null?void 0:s.hourly_rate)||0),selectedHours:y,onHoursChange:m,onNext:()=>f("time")});case"time":return o.jsx(Jj,{roomId:(s==null?void 0:s.id)||"",roomTimezone:(s==null?void 0:s.timezone)||"America/New_York",selectedDate:h,selectedTime:x,onDateChange:v,onTimeChange:w,onBack:()=>f("hours"),onNext:()=>f("review")});case"review":return o.jsx(Gj,{roomName:(s==null?void 0:s.name)||"",roomType:((S=s==null?void 0:s.room_type)==null?void 0:S.name)||"",selectedDate:h,selectedTime:x,hours:y,hourlyRate:Number((s==null?void 0:s.hourly_rate)||0),onBack:()=>f("time"),onConfirm:N,processing:p})}};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading room details..."})]}):u||!s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ot,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-4 text-red-600",children:u||"Room not found"})]}):o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("h1",{className:"text-4xl font-bold text-gray-900",children:["Book ",s.name]}),o.jsxs("p",{className:"text-xl text-gray-600",children:[(P=s.room_type)==null?void 0:P.name," - ",$t(Number(s.hourly_rate)),"/hour"]})]}),o.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(tg,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Studio uses timezone:"})," ",wi(s.timezone||"America/New_York")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Your timezone is currently:"})," ",wi(b||"UTC")]}),(s.timezone||"America/New_York")!==b&&o.jsx("p",{className:"text-blue-800 font-medium",children:"You can toggle between timezones in the booking step."})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:T()})]})}function e2(){const[t]=Ep(),e=Ke(),r=t.get("session_id"),[n,s]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState(!1),[c,d]=_.useState(null),[f,h]=_.useState(null);return _.useEffect(()=>{async function v(){u(!0);const x=localStorage.getItem("studio_id");console.log(x);try{const y=await(await fetch("https://clcoyrkrqzehvjivjdub.supabase.co/functions/v1/get-session",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsY295cmtycXplaHZqaXZqZHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MjkyMDIsImV4cCI6MjA1OTIwNTIwMn0.q0ZXAjm9UuJbucm1xsAQDQ_SP1v84SsUd-8A8hhV4sA","Content-Type":"application/json"},body:JSON.stringify({sessionId:r,studioOwnerId:x})})).json();if(y.error||!y.session)throw new Error(y.error||"Session not found");const m=y.session;d(m);const{data:p,error:g}=await F.from("successful_bookings").insert({room_id:m.metadata.roomId,stripe_session_id:m.id,customer_email:m.customer_details.email,customer_name:m.customer_details.name||m.metadata.userName,amount_total:m.amount_total,booking_date:m.metadata.date,start_time:m.metadata.startTime,end_time:m.metadata.endTime,hours:parseInt(m.metadata.hours),status:"completed"}).select().single();if(g)throw g;h(p)}catch(w){if(w.code==="23505"){const{data:y,error:m}=await F.from("successful_bookings").select("*").eq("stripe_session_id",r).single();m||!y?(console.error("Error fetching existing booking:",m),a("Failed to load existing booking.")):h(y)}else w.code==="PGRST116"?a("Unexpected number of rows returned from the database."):(console.error("Unexpected error:",w),a("Failed to save booking."))}finally{localStorage.removeItem("studio_id"),u(!1),s(!1)}}r&&v()},[r]),n?o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):i||!c?o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:o.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[o.jsx("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:i||"Session not found"}),o.jsxs("button",{onClick:()=>e("/dashboard"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]})]})}):o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:o.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[o.jsx(z_,{className:"mx-auto h-16 w-16 text-green-500"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f?"Booking Confirmed!":"Processing Booking..."}),o.jsxs("div",{className:"space-y-6 text-left bg-white p-6 rounded-lg shadow-sm",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(us,{className:"w-5 h-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Date"}),o.jsxs("div",{className:"text-gray-600",children:[c.metadata.date," at ",c.metadata.startTime,"-",c.metadata.endTime]})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(er,{className:"w-5 h-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Duration"}),o.jsxs("div",{className:"text-gray-600",children:[c.metadata.hours," hour",Number(c.metadata.hours)>1?"s":""]})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(_s,{className:"w-5 h-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Amount Paid"}),o.jsx("div",{className:"text-gray-600",children:$t(c.amount_total/100)})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Wc,{className:"w-5 h-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Confirmation sent to"}),o.jsx("div",{className:"text-gray-600",children:c.customer_details.email})]})]})]}),o.jsx("div",{className:"flex justify-center space-x-4",children:o.jsxs("button",{onClick:()=>e("/dashboard"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"View My Bookings"]})})]})})}const t2=L.object({name:L.string().min(1,"Studio name is required"),description:L.string().optional(),address:L.string().min(1,"Address is required"),city:L.string().min(1,"City is required"),state:L.string().min(1,"State is required"),country:L.string().min(1,"Country is required"),postal_code:L.string().min(1,"Postal code is required"),phone:L.string().optional(),email:L.string().email().optional(),photos:L.array(L.string()).optional(),amenities:L.record(L.boolean()).optional()});function r2(){const t=Ke(),{user:e}=Lt(),[r,n]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState([]),[u,c]=_.useState({parking:!1,wifi:!1,kitchen:!1,bathroom:!1,lounge:!1,"climate-control":!1}),d=async h=>{if(h.preventDefault(),!e)return;n(!0),i(null);const v=new FormData(h.currentTarget),x={name:v.get("name"),description:v.get("description"),address:v.get("address"),city:v.get("city"),state:v.get("state"),country:v.get("country"),postal_code:v.get("postal_code"),phone:v.get("phone"),email:v.get("email"),photos:a,amenities:u};try{const w=t2.parse(x),{data:y,error:m}=await F.from("organizations").insert([{name:w.name,description:w.description}]).select().single();if(m)throw m;const{error:p}=await F.from("studios").insert([{...w,organization_id:y.id,created_by:e.id}]);if(p)throw p;t("/dashboard")}catch(w){if(w instanceof L.ZodError){i(w.errors[0].message);return}i(w instanceof Error?w.message:"Failed to create studio")}finally{n(!1)}},f=h=>{l(a.filter((v,x)=>x!==h))};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Add New Studio"}),o.jsx("p",{className:"text-xl text-gray-600",children:"List your recording studio on StudioBase"})]}),o.jsxs("form",{onSubmit:d,className:"space-y-6 bg-white rounded-lg shadow-sm p-6",children:[s&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:s}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Studio Name"}),o.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("input",{type:"text",id:"address",name:"address",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),o.jsx("input",{type:"text",id:"city",name:"city",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),o.jsx("input",{type:"text",id:"state",name:"state",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),o.jsx("input",{type:"text",id:"country",name:"country",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),o.jsx("input",{type:"text",id:"postal_code",name:"postal_code",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.map((h,v)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:h,alt:`Studio photo ${v+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>f(v),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Hi,{className:"w-4 h-4"})})]},v))}),o.jsxs("button",{type:"button",onClick:async()=>{try{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=async v=>{var w;const x=(w=v.target.files)==null?void 0:w[0];if(x){i(null);try{const y=await Mo(x);l(m=>[...m,y])}catch(y){i("Error uploading photo. Please try again."),console.error(y)}}},h.click()}catch(h){i("Error initiating file upload. Please try again."),console.error(h)}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(u).map(([h,v])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:x=>c({...u,[h]:x.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:h.charAt(0).toUpperCase()+h.slice(1).replace("-"," ")})]},h))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?o.jsxs(o.Fragment,{children:[o.jsx(pr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Creating..."]}):"Create Studio"})]})]})]})}function n2({studio:t}){var e;return o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(e=t.photos)!=null&&e[0]?o.jsx("img",{src:t.photos[0],alt:t.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ot,{className:"w-12 h-12 text-gray-400"})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:t.name}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[o.jsx(Ao,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{children:[t.city,", ",t.state]})]}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs(Le,{to:`/studios/${t.id}/manage`,className:"inline-flex items-center text-indigo-600 hover:text-indigo-700 text-sm font-medium mr-4",children:[o.jsx(pr,{className:"w-4 h-4 mr-1"}),"Manage Studio"]}),o.jsxs(Le,{to:`/studios/${t.id}`,className:"inline-flex items-center text-gray-600 hover:text-gray-700 text-sm font-medium",children:[o.jsx(F_,{className:"w-4 h-4 mr-1"}),"View Studio"]})]})]})]})}function rh(){const{user:t}=Lt(),[e,r]=_.useState([]),[n,s]=_.useState([]),[i,a]=_.useState(!0),[l,u]=_.useState(!1);return _.useEffect(()=>{async function c(){if(t)try{const{data:{session:h},error:v}=await F.auth.getSession();if(!h||v)throw new Error("Session expired or not found");const{data:x,error:w}=await F.from("profiles").select("is_studio_owner").eq("id",t.id).single();if(w)throw w;u((x==null?void 0:x.is_studio_owner)||!1)}catch(h){if(h.message==="Session expired or not found"){setUser(null),navigate("/login");return}console.error("Error loading profile:",h)}}async function d(){if(t)try{const{data:{session:h},error:v}=await F.auth.getSession();if(!h||v)throw new Error("Session expired or not found");const{data:x,error:w}=await F.from("studios").select(`
            id,
            organization_id,
            name,
            description,
            city,
            state,
            photos
          `).eq("created_by",t.id);if(w)throw w;r(x||[])}catch(h){if(h.message==="Session expired or not found"){setUser(null),navigate("/login");return}console.error("Error loading studios:",h)}finally{a(!1)}}async function f(){if(!t)return;a(!0);const{data:h}=await F.from("successful_bookings").select(`
          id,
          room:rooms (
            id,
            name,
            studio:studios (
              id,
              name,
              city,
              state
            )
          ),
          booking_date,
          start_time,
          hours,
          end_time,
          status,
          amount_total
        `).eq("customer_email",t.email).order("booking_date",{ascending:!1});a(!1),s(h||[])}c(),d(),f()},[t,l]),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Dashboard"}),l?o.jsx("p",{className:"text-xl text-gray-600",children:e.length===0?"Get started by adding your first recording studio":"Manage your recording studios"}):o.jsx("p",{className:"text-xl text-gray-600",children:"Manage your bookings and preferences"})]}),l?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Your Studios"}),o.jsxs(Le,{to:"/studios/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Add New Studio"]})]}),i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your studios..."})]}):e.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300",children:[o.jsx(pr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No studios yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Get started by adding your first recording studio"}),o.jsxs(Le,{to:"/studios/new",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Add Studio"]})]}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(c=>o.jsx(n2,{studio:c},c.id))})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Your Bookings"}),o.jsxs(Le,{to:"/studios",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Book Studio"]})]}),i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your bookings..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300",children:[o.jsx(us,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No bookings yet"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Book your first studio session to get started"}),o.jsxs(Le,{to:"/studios",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[o.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Book Studio"]})]}):o.jsx("div",{className:"space-y-4",children:n.map(c=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[c.room.name," at ",c.room.studio.name]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Ao,{className:"w-4 h-4 mr-1"}),c.room.studio.city,", ",c.room.studio.state]})]}),o.jsx("div",{className:"mt-4 sm:mt-0",children:o.jsx("span",{className:`
                        px-3 py-1 text-sm font-medium rounded-full
                        ${c.status==="completed"?"bg-green-100 text-green-800":""}
                        ${c.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                        ${c.status==="cancelled"?"bg-red-100 text-red-800":""}
                      `,children:c.status.charAt(0).toUpperCase()+c.status.slice(1)})})]}),o.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm",children:[o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(us,{className:"w-4 h-4 mr-1"}),c.booking_date]}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(er,{className:"w-4 h-4 mr-1"}),c.start_time," - ",c.end_time.replace(":00:00",":00"),o.jsxs("span",{className:"ml-2 text-gray-500",children:["(",c.hours," ",c.hours===1?"hour":"hours",")"]})]}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(_s,{className:"w-4 h-4 mr-1"}),$t(c.amount_total)]})]})]},c.id))})]})]})}function nh(){const{user:t}=Lt(),[e,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(!1),[l,u]=_.useState(null),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[v,x]=_.useState(!1),[w,y]=_.useState(""),[m,p]=_.useState(!1),[g,b]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,j]=_.useState({publishableKey:"",secretKey:"",webhookSecret:"",enabled:!1});_.useEffect(()=>{async function P(){if(!t)return;const{data:S}=await F.from("profiles").select("full_name, avatar_url, is_studio_owner, stripe_publishable_key, stripe_secret_key, stripe_webhook_secret, stripe_enabled").eq("id",t.id).single();r(S),S&&(j({publishableKey:S.stripe_publishable_key||"",secretKey:S.stripe_secret_key||"",webhookSecret:S.stripe_webhook_secret||"",enabled:S.stripe_enabled||!1}),y(S.full_name||"")),s(!1)}P()},[t]);const N=async P=>{if(P.preventDefault(),a(!0),u(null),k.enabled){if(!k.publishableKey.trim()||!k.secretKey.trim()||!k.webhookSecret.trim()){u("All Stripe keys are required when Stripe is enabled"),a(!1);return}if(!k.publishableKey.startsWith("pk_")){u('Invalid Publishable Key format. Should start with "pk_"'),a(!1);return}if(!k.secretKey.startsWith("sk_")){u('Invalid Secret Key format. Should start with "sk_"'),a(!1);return}if(!k.webhookSecret.startsWith("whsec_")){u('Invalid Webhook Secret format. Should start with "whsec_"'),a(!1);return}}try{const S=k.enabled?{stripe_publishable_key:k.publishableKey.trim(),stripe_secret_key:k.secretKey.trim(),stripe_webhook_secret:k.webhookSecret.trim(),stripe_enabled:!0}:{stripe_publishable_key:null,stripe_secret_key:null,stripe_webhook_secret:null,stripe_enabled:!1},{error:E}=await F.from("profiles").update(S).eq("id",t==null?void 0:t.id);if(E)throw E;const{data:A}=await F.from("profiles").select("*").eq("id",t==null?void 0:t.id).single();r(A)}catch(S){u(S instanceof Error?S.message:"Failed to update Stripe keys")}finally{a(!1)}},T=async P=>{if(!t){u("You must be logged in to upload a profile photo");return}u(null),h(!0);try{const S=await Ok(P),{error:E}=await F.from("profiles").update({avatar_url:S}).eq("id",t.id);if(E)throw E;r(A=>A?{...A,avatar_url:S}:null)}catch(S){u("Error uploading photo. Please try again."),console.error(S)}finally{h(!1)}};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Profile"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Update your personal information and preferences"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[o.jsx("div",{className:"text-center",children:n?o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative inline-block group",children:[e!=null&&e.avatar_url?o.jsx("img",{src:e.avatar_url,alt:(e==null?void 0:e.full_name)||"Profile",className:"w-32 h-32 rounded-full object-cover border-2 border-gray-200"}):o.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 flex items-center justify-center border-2 border-gray-200",children:o.jsx(sg,{className:"w-16 h-16 text-gray-400"})}),o.jsx("button",{onClick:async()=>{try{const P=document.createElement("input");P.type="file",P.accept="image/*",P.onchange=async S=>{var A;const E=(A=S.target.files)==null?void 0:A[0];E&&await T(E)},P.click()}catch(P){u("Error initiating file upload. Please try again."),console.error(P)}},className:"absolute bottom-0 right-0 p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors",children:f?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white"}):o.jsx(Bi,{className:"w-5 h-5"})}),(e==null?void 0:e.avatar_url)&&o.jsx("button",{onClick:async()=>{try{const{error:P}=await F.from("profiles").update({avatar_url:null}).eq("id",t==null?void 0:t.id);if(P)throw P;r(S=>S?{...S,avatar_url:null}:null)}catch(P){u("Error removing photo. Please try again."),console.error(P)}},className:"absolute top-0 right-0 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Hi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v?o.jsxs("form",{className:"flex items-center space-x-2",onSubmit:async P=>{P.preventDefault();try{const{error:S}=await F.from("profiles").update({full_name:w}).eq("id",t==null?void 0:t.id);if(S)throw S;r(E=>E?{...E,full_name:w}:null),x(!1)}catch(S){u("Failed to update name"),console.error(S)}},children:[o.jsx("input",{type:"text",value:w,onChange:P=>y(P.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-lg",placeholder:"Enter your name",required:!0}),o.jsx("button",{type:"submit",className:"px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Save"}),o.jsx("button",{type:"button",onClick:()=>{x(!1),y((e==null?void 0:e.full_name)||"")},className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{children:(e==null?void 0:e.full_name)||"Anonymous User"}),o.jsx("button",{onClick:()=>x(!0),className:"text-indigo-600 hover:text-indigo-700",children:o.jsx(rg,{className:"w-4 h-4"})})]})}),o.jsx("div",{className:"mt-1 flex items-center justify-center text-sm",children:e!=null&&e.is_studio_owner?o.jsxs(o.Fragment,{children:[o.jsx(pr,{className:"w-4 h-4 text-indigo-600 mr-1"}),o.jsx("span",{className:"text-indigo-600 font-medium",children:"Studio Owner"})]}):o.jsxs(o.Fragment,{children:[o.jsx(yi,{className:"w-4 h-4 text-indigo-600 mr-1"}),o.jsx("span",{className:"text-indigo-600 font-medium",children:"Artist"})]})})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:o.jsxs("dl",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t==null?void 0:t.email})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e!=null&&e.is_studio_owner?"Studio Owner":"Artist"})]})]})})]})}),o.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[o.jsx(W_,{className:"w-5 h-5 mr-2 text-gray-400"}),"Change Password"]}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your password to keep your account secure"}),o.jsxs("form",{onSubmit:async P=>{P.preventDefault(),p(!0),u(null);try{if(g.newPassword.length<6)throw new Error("New password must be at least 6 characters");if(g.newPassword!==g.confirmPassword)throw new Error("New passwords do not match");const{error:S}=await F.auth.updateUser({password:g.newPassword});if(S)throw S;b({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password updated successfully")}catch(S){u(S instanceof Error?S.message:"Failed to update password")}finally{p(!1)}},className:"mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),o.jsx("input",{type:"password",id:"currentPassword",value:g.currentPassword,onChange:P=>b(S=>({...S,currentPassword:P.target.value})),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),o.jsx("input",{type:"password",id:"newPassword",value:g.newPassword,onChange:P=>b(S=>({...S,newPassword:P.target.value})),required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),o.jsx("input",{type:"password",id:"confirmPassword",value:g.confirmPassword,onChange:P=>b(S=>({...S,confirmPassword:P.target.value})),required:!0,minLength:6,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("button",{type:"submit",disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Updating Password..."]}):"Update Password"})]})]}),(e==null?void 0:e.is_studio_owner)&&o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[o.jsx(eg,{className:"w-5 h-5 mr-2 text-gray-400"}),"Stripe Integration"]}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure your Stripe account to process payments directly to your account"}),o.jsxs("form",{onSubmit:N,className:"mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"publishableKey",className:"block text-sm font-medium text-gray-700",children:"Publishable Key"}),o.jsx("input",{type:"text",id:"publishableKey",value:k.publishableKey,disabled:!k.enabled,onChange:P=>j(S=>({...S,publishableKey:P.target.value})),placeholder:"pk_test_...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"secretKey",className:"block text-sm font-medium text-gray-700",children:"Secret Key"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("input",{type:c?"text":"password",id:"secretKey",value:k.secretKey,disabled:!k.enabled,onChange:P=>j(S=>({...S,secretKey:P.target.value})),placeholder:"sk_test_...",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 px-3 flex items-center",children:c?o.jsx(B_,{className:"h-5 w-5 text-gray-400"}):o.jsx(H_,{className:"h-5 w-5 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"webhookSecret",className:"block text-sm font-medium text-gray-700",children:"Webhook Secret"}),o.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:o.jsx("input",{type:c?"text":"password",id:"webhookSecret",value:k.webhookSecret,disabled:!k.enabled,onChange:P=>j(S=>({...S,webhookSecret:P.target.value})),placeholder:"whsec_...",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 pr-10"})})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"enabled",checked:k.enabled,onChange:P=>j(S=>({...S,enabled:P.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"enabled",className:"ml-2 block text-sm text-gray-900",children:"Enable Stripe Integration"})]}),l&&o.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:l}),o.jsx("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:i?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):"Save Stripe Settings"})]})]})]})]})}const s2=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i2=_.forwardRef(({roomId:t},e)=>{const[r,n]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState(!1),[u,c]=_.useState(null),[d,f]=_.useState({}),h=Ke(),{user:v,setUser:x}=Lt();_.useImperativeHandle(e,()=>({handleSaveAllTimes:async()=>{try{l(!0),c(null);const m=r.map(async b=>{const k=b.day_of_week,j=d[k];if(!j||j.start===b.start_time&&j.end===b.end_time)return!0;const{error:N}=await F.rpc("update_day_availability",{p_room_id:t,p_day_of_week:k,p_start_time:j.start,p_end_time:j.end,p_is_available:b.is_available});if(N)throw N;return!0});await Promise.all(m);const{data:p,error:g}=await F.from("availability").select("*").eq("room_id",t).order("day_of_week");if(g)throw g;return n(p||[]),!0}catch(m){return c(m instanceof Error?m.message:"Failed to update availability times"),!1}finally{l(!1)}}}));const w=async m=>{try{l(!0),c(null);const p=r.find(j=>j.day_of_week===m);if(!p)return;const{error:g}=await F.rpc("update_day_availability",{p_room_id:t,p_day_of_week:m,p_start_time:p.start_time,p_end_time:p.end_time,p_is_available:!p.is_available});if(g)throw g;const{data:b,error:k}=await F.from("availability").select("*").eq("room_id",t).order("day_of_week");if(k)throw k;n(b||[])}catch(p){c(p instanceof Error?p.message:"Failed to update availability")}finally{l(!1)}};_.useEffect(()=>{async function m(){try{const{data:{session:p},error:g}=await F.auth.getSession();if(!p||g)throw new Error("Session expired or not found");const{data:b,error:k}=await F.from("availability").select("*").eq("room_id",t).order("day_of_week");if(k)throw k;n(b||[]);const j=b==null?void 0:b.reduce((N,T)=>({...N,[T.day_of_week]:{start:T.start_time,end:T.end_time}}),{});f(j||{})}catch(p){if(p instanceof Error&&p.message==="Session expired or not found"){x(null),h("/login"),c("Session expired. Please log in again.");return}c(p instanceof Error?p.message:"Failed to load availability")}finally{i(!1)}}m()},[t,h,x]);const y=async m=>{const p=d[m];if(p)try{l(!0),c(null);const{error:g}=await F.rpc("update_day_availability",{p_room_id:t,p_day_of_week:m,p_start_time:p.start,p_end_time:p.end,p_is_available:!0});if(g)throw g;const{data:b,error:k}=await F.from("availability").select("*").eq("room_id",t).order("day_of_week");if(k)throw k;n(b||[])}catch(g){c(g instanceof Error?g.message:"Failed to update availability")}finally{l(!1)}};return s?o.jsx("div",{className:"text-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):u?o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:u}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Room Availability"}),o.jsx("div",{className:"divide-y divide-gray-200",children:s2.map((m,p)=>{var b,k;const g=r.find(j=>j.day_of_week===p);return g?o.jsxs("div",{className:"py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("label",{className:"inline-flex items-center w-32",children:[o.jsx("input",{type:"checkbox",checked:g.is_available,onChange:()=>w(p),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]}),g.is_available?o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(er,{className:"w-4 h-4 text-gray-400 mr-2"}),o.jsx("input",{type:"time",value:((b=d[p])==null?void 0:b.start)||g.start_time,onChange:j=>f(N=>({...N,[p]:{...N[p],start:j.target.value}})),className:"w-32 px-2 py-1 border border-gray-300 rounded-md text-sm"}),o.jsx("span",{className:"mx-2",children:"to"}),o.jsx("input",{type:"time",value:((k=d[p])==null?void 0:k.end)||g.end_time,onChange:j=>f(N=>({...N,[p]:{...N[p],end:j.target.value}})),className:"w-32 px-2 py-1 border border-gray-300 rounded-md text-sm"}),o.jsx("button",{onClick:()=>y(p),disabled:a,className:"ml-2 p-1 text-indigo-600 hover:text-indigo-700 disabled:opacity-50",children:o.jsx(xi,{className:"w-4 h-4"})})]}):o.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]}),o.jsx("div",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.is_available?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.is_available?"Available":"Unavailable"})]},m):null})})]})}),a2=L.object({name:L.string().min(1,"Room name is required"),description:L.string().optional(),room_type_id:L.string().uuid("Please select a room type"),hourly_rate:L.number().min(0,"Hourly rate must be positive"),minimum_hours:L.number().int().min(1,"Minimum booking must be at least 1 hour"),photos:L.array(L.string()).optional(),booking_link:L.string().url("Please enter a valid URL").optional().or(L.literal("")),equipment:L.record(L.any()).optional(),specifications:L.record(L.any()).optional(),timezone:L.string().optional()}),sh={"audio-interface":!1,microphones:!1,monitors:!1,headphones:!1,instruments:!1,"mixing-console":!1},ih={soundproof:!1,"acoustic-treatment":!1,"climate-control":!1,"natural-light":!1,"recording-booth":!1},o2=[{name:"Eastern Time (ET)",value:"America/New_York",offset:"UTC-5/UTC-4"},{name:"Central Time (CT)",value:"America/Chicago",offset:"UTC-6/UTC-5"},{name:"Mountain Time (MT)",value:"America/Denver",offset:"UTC-7/UTC-6"},{name:"Pacific Time (PT)",value:"America/Los_Angeles",offset:"UTC-8/UTC-7"},{name:"Alaska Time (AKT)",value:"America/Anchorage",offset:"UTC-9/UTC-8"},{name:"Hawaii-Aleutian Time (HST)",value:"Pacific/Honolulu",offset:"UTC-10"},{name:"Arizona Time (MST)",value:"America/Phoenix",offset:"UTC-7"},{name:"Atlantic Time (AST)",value:"America/Halifax",offset:"UTC-4/UTC-3"},{name:"Chamorro Time (ChST)",value:"Pacific/Guam",offset:"UTC+10"}];function l2(){const{id:t,roomId:e}=ys(),r=Ke(),{user:n}=Lt(),[s,i]=_.useState(null),[a,l]=_.useState(!0),[u,c]=_.useState(!1),[d,f]=_.useState(null),[h,v]=_.useState([]),[x,w]=_.useState([]),[y,m]=_.useState(sh),[p,g]=_.useState(ih),b=_.useRef(null),k=_.useRef(null),[j,N]=_.useState({name:"",description:"",room_type_id:"",hourly_rate:0,minimum_hours:1,booking_link:"",timezone:"America/New_York"});_.useEffect(()=>{async function E(){if(!(!t||!e)&&n)try{const{error:A}=await F.rpc("ensure_room_availability",{p_room_id:e});A&&console.error("Error ensuring availability:",A);const{data:V}=await F.from("room_types").select("*").order("name");w(V||[]);const{data:ee,error:He}=await F.from("rooms").select("*").eq("id",e).single();if(He)throw He;i(ee),v(ee.photos||[]),m({...sh,...ee.equipment||{}}),g({...ih,...ee.specifications||{}}),N({name:ee.name||"",description:ee.description||"",room_type_id:ee.room_type_id||"",hourly_rate:ee.hourly_rate||0,minimum_hours:ee.minimum_hours||1,booking_link:ee.booking_link||"",timezone:ee.timezone||"America/New_York"})}catch(A){f(A instanceof Error?A.message:"Failed to load room")}finally{l(!1)}}E()},[t,e,n]);const T=async E=>{E.preventDefault(),c(!0),f(null);try{if(b.current&&!await b.current.handleSaveAllTimes())throw new Error("Failed to save availability times");const A={name:j.name,description:j.description,room_type_id:j.room_type_id,hourly_rate:j.hourly_rate,minimum_hours:j.minimum_hours,photos:h,booking_link:j.booking_link,equipment:y,specifications:p,timezone:j.timezone},V=a2.parse(A),{error:ee}=await F.from("rooms").update(V).eq("id",e);if(ee)throw ee;r(`/studios/${t}/manage`)}catch(A){if(A instanceof L.ZodError){f(A.errors[0].message);return}f(A instanceof Error?A.message:"Failed to update room")}finally{c(!1)}},P=E=>{v(h.filter((A,V)=>V!==E))},S=E=>{const{name:A,value:V}=E.target;N(ee=>({...ee,[A]:A==="hourly_rate"||A==="minimum_hours"?Number(V):V}))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading room details..."})]}):d||!s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ot,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-4 text-red-600",children:d||"Room not found"})]}):o.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("button",{onClick:()=>r(`/studios/${t}/manage`),className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[o.jsx(ls,{className:"w-5 h-5 mr-1"}),"Back to Studio"]}),o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Edit Room"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Update your recording room details"})]}),o.jsxs("form",{ref:k,onSubmit:T,className:"space-y-6 bg-white rounded-lg shadow-sm p-6",children:[d&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:d}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Room Name"}),o.jsx("input",{type:"text",id:"name",name:"name",value:j.name,onChange:S,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"room_type_id",className:"block text-sm font-medium text-gray-700",children:"Room Type"}),o.jsxs("select",{id:"room_type_id",name:"room_type_id",value:j.room_type_id,onChange:S,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"",children:"Select a room type"}),x.map(E=>o.jsx("option",{value:E.id,children:E.name},E.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",value:j.description,onChange:S,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"hourly_rate",className:"block text-sm font-medium text-gray-700",children:"Hourly Rate ($)"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(_s,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"number",id:"hourly_rate",name:"hourly_rate",value:j.hourly_rate,onChange:S,min:"0",step:"0.01",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"minimum_hours",className:"block text-sm font-medium text-gray-700",children:"Minimum Hours"}),o.jsx("input",{type:"number",id:"minimum_hours",name:"minimum_hours",value:j.minimum_hours,onChange:S,min:"1",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"booking_link",className:"block text-sm font-medium text-gray-700",children:["External Booking Link ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),o.jsx("input",{type:"url",id:"booking_link",name:"booking_link",value:j.booking_link,onChange:S,placeholder:"https://...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"If provided, this link will be used instead of the default booking flow"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:h.map((E,A)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:E,alt:`Room photo ${A+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>P(A),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Hi,{className:"w-4 h-4"})})]},A))}),o.jsxs("button",{type:"button",onClick:async()=>{try{const E=document.createElement("input");E.type="file",E.accept="image/*",E.onchange=async A=>{var ee;const V=(ee=A.target.files)==null?void 0:ee[0];if(V){f(null);try{const He=await Mo(V);v(St=>[...St,He])}catch(He){f("Error uploading photo. Please try again."),console.error(He)}}},E.click()}catch(E){f("Error initiating file upload. Please try again."),console.error(E)}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipment"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(y).map(([E,A])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:V=>m({...y,[E]:V.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.split("-").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ")})]},E))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specifications"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(p).map(([E,A])=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:V=>g({...p,[E]:V.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.split("-").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ")})]},E))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(er,{className:"h-5 w-5 text-gray-400"})}),o.jsx("select",{id:"timezone",name:"timezone",value:j.timezone,onChange:S,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:o2.map(E=>o.jsxs("option",{value:E.value,children:[E.name," (",E.offset,")"]},E.value))})]}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This timezone will be used for all availability and booking times"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),o.jsx(i2,{ref:b,roomId:e})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>r(`/studios/${t}/manage`),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):"Save Changes"})]})]})]})}function u2(){const{pathname:t}=Xt();return _.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const c2=hx();function d2(){return o.jsx(lx,{history:c2,children:o.jsx(M_,{children:o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(G_,{}),o.jsx(u2,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsxs(ex,{children:[o.jsx(Ie,{path:"/",element:o.jsx(Tk,{})}),o.jsx(Ie,{path:"/login",element:o.jsx(Yj,{})}),o.jsx(Ie,{path:"/signup",element:o.jsx(Zj,{})}),o.jsx(Ie,{path:"/studios",element:o.jsx(Pk,{})}),o.jsx(Ie,{path:"/studios/:id",element:o.jsx(Qj,{})}),o.jsx(Ie,{path:"/booking/:roomId",element:o.jsx(Xj,{})}),o.jsx(Ie,{path:"/booking/success",element:o.jsx(e2,{})}),o.jsxs(Ie,{element:o.jsx(A_,{}),children:[o.jsx(Ie,{path:"/studios/new",element:o.jsx(r2,{})}),o.jsx(Ie,{path:"/studios/:id/settings",element:o.jsx(Fj,{})}),o.jsx(Ie,{path:"/studios/:id/rooms/new",element:o.jsx(Wj,{})}),o.jsx(Ie,{path:"/studios/:id/rooms/:roomId/edit",element:o.jsx(l2,{})}),o.jsx(Ie,{path:"/studios/:id/manage",element:o.jsx(Vj,{})}),o.jsx(Ie,{path:"/dashboard",element:o.jsx(rh,{})}),o.jsx(Ie,{path:"/profile",element:o.jsx(nh,{})})]}),o.jsx(Ie,{path:"/dashboard",element:o.jsx(rh,{})}),o.jsx(Ie,{path:"/profile",element:o.jsx(nh,{})})]})})]})})})}yp(document.getElementById("root")).render(o.jsx(_.StrictMode,{children:o.jsx(d2,{})}));export{uo as g};
